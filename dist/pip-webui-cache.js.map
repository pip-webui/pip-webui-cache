{"version":3,"sources":["../node_modules/browser-pack/_prelude.js","src/cache/cache-config.service.ts","src/cache/cache.interceptor.ts","src/cache/cache.models.ts","src/cache/cache.service.ts","src/cache/index.ts","src/index.ts"],"names":[],"mappings":"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","file":"pip-webui-cache.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","import { PipCacheModel } from \"./cache.models\";\r\n\r\nexport interface ICacheConfigService {\r\n    enabled: boolean;\r\n    enableLogs: boolean;\r\n    models: PipCacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nexport class CacheConfigService implements ICacheConfigService {\r\n    constructor(\r\n        public enabled: boolean,\r\n        public enableLogs: boolean,\r\n        public models: PipCacheModel[],\r\n        public prefix: string\r\n    ) { }\r\n}\r\n\r\nexport interface ICacheConfigProvider {\r\n    enableLogs: boolean;\r\n    models: PipCacheModel[];\r\n    prefix: string;\r\n}\r\n\r\nclass CacheConfigProvider implements ICacheConfigProvider, ng.IServiceProvider {\r\n\r\n    private _service: CacheConfigService;\r\n\r\n    enabled: boolean = true;\r\n    enableLogs: boolean = false;\r\n    models: PipCacheModel[] = [];\r\n    prefix: string = 'PipCache';\r\n\r\n    constructor() {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheConfigService(\r\n                this.enabled,\r\n                this.enableLogs,\r\n                this.models,\r\n                this.prefix\r\n            );\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCacheConfig', CacheConfigProvider);","import { ICacheService } from \"./cache.service\";\r\nimport { ICacheConfigService } from \"./cache-config.service\";\r\n\r\nfunction configureInterceptor(\r\n    $httpProvider: ng.IHttpProvider\r\n) {\r\n    \"ngInject\";\r\n\r\n    $httpProvider.interceptors.push(function ($q: ng.IQService, pipCache: ICacheService, pipCacheConfig: ICacheConfigService) {\r\n        return {\r\n            request: (config: ng.IRequestConfig) => {\r\n                if (!pipCacheConfig.enabled) { return config; }\r\n                for (const model of pipCache.models) {\r\n                    for (const ik of Object.keys(model.interceptors)) {\r\n                        const interceptor = model.interceptors[ik];\r\n                        const match = interceptor.match.exec(config.url);\r\n                        if (match) {\r\n                            switch (config.method) {\r\n                                case 'GET':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            return pipCache.getItem(model.name, interceptor.getKey(match), interceptor.options)\r\n                                                .then(item => {\r\n                                                    if (!item) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            pipCache.setItem(model.name, body, interceptor.options);\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        return $q.reject({ cachedData: item });\r\n                                                    }\r\n                                                });\r\n                                        case 'collection':\r\n                                            return pipCache.getItems(model.name, { httpParams: config.params, interceptor })\r\n                                                .then(items => {\r\n                                                    if (!items) {\r\n                                                        (config as any).onResponse = (body) => {\r\n                                                            const its = interceptor.responseModify\r\n                                                                ? interceptor.responseModify.responseToItems(body) : body;\r\n                                                            pipCache.setItems(model.name, its,\r\n                                                                { httpParams: config.params, interceptor });\r\n                                                        };\r\n                                                        return config;\r\n                                                    } else {\r\n                                                        config.timeout = $q.defer().promise;\r\n                                                        const resp = interceptor.responseModify\r\n                                                            ? interceptor.responseModify.itemsToResponse(items) : items;\r\n                                                        return $q.reject({ cachedData: resp });\r\n                                                    }\r\n                                                });\r\n                                        default:\r\n                                            console.error(`Unknown type of interceptor (${ik})`);\r\n                                            break;\r\n                                    }\r\n                                case 'POST':\r\n                                case 'PUT':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                        case 'collection':\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.setItem(model.name, body, { removeTotal: config.method === 'POST' });\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                case 'DELETE':\r\n                                    switch (ik) {\r\n                                        case 'item':\r\n                                            (config as any).onResponse = (body) => {\r\n                                                pipCache.deleteItems(model.name, [interceptor.getKey(match)]);\r\n                                            };\r\n                                            break;\r\n                                        default:\r\n                                            break;\r\n                                    }\r\n                                default:\r\n                                    break;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return config;\r\n            },\r\n            response: <T>(response: ng.IHttpPromiseCallbackArg<T>) => {\r\n                if (response.config.hasOwnProperty('onResponse') && typeof (response.config as any).onResponse === 'function') {\r\n                    (response.config as any).onResponse(response.data);\r\n                }\r\n                return response;\r\n            },\r\n            responseError: function (rejection) {\r\n                if (rejection && rejection.cachedData) {\r\n                    return $q.resolve({ data: rejection.cachedData });\r\n                }\r\n                return $q.reject(rejection);\r\n            }\r\n        } as ng.IHttpInterceptor;\r\n    });\r\n}\r\n\r\nangular\r\n    .module('pipCache')\r\n    .config(configureInterceptor);","export class PipCachePaginationParams {\r\n    offset?: number;\r\n    limit?: number;\r\n}\r\n\r\nexport function extractPaginationDefault(params: any): [PipCachePaginationParams, any] {\r\n    const res = new PipCachePaginationParams();\r\n    const pars = _.cloneDeep(params);\r\n    if (params) {\r\n        if (params.hasOwnProperty('offset')) {\r\n            res.offset = parseInt(params.offset, 10);\r\n            delete pars.offset;\r\n        }\r\n        if (params.hasOwnProperty('limit')) \r\n        {\r\n            res.limit = parseInt(params.limit, 10);\r\n            delete pars.limit;\r\n        }\r\n    }\r\n    return [res, pars];\r\n}\r\n\r\nexport class PipCacheInterceptorOptions {\r\n    maxAge?: number;\r\n}\r\n\r\nexport class PipCacheInterceptorSettings {\r\n    match: RegExp;\r\n    options?: PipCacheInterceptorOptions;\r\n}\r\n\r\nexport class PipCacheInterceptorItemSettings extends PipCacheInterceptorSettings {\r\n    getKey: (groups: any) => any;\r\n}\r\n\r\nexport class PipCacheInterceptorCollectionSettings extends PipCacheInterceptorSettings {\r\n    responseModify?: {\r\n        responseToItems: (resp: any) => any[];\r\n        itemsToResponse: (items: any[]) => any;\r\n    };\r\n    // extractPagination?: (params: HttpParams) => [PipCachePaginationParams, HttpParams];\r\n}\r\n\r\nexport class PipCacheModel {\r\n    name: string;\r\n    options: {\r\n        maxAge: number;\r\n        key?: string;\r\n    };\r\n    interceptors: {\r\n        item?: PipCacheInterceptorItemSettings;\r\n        collection?: PipCacheInterceptorCollectionSettings;\r\n    };\r\n}\r\n","import { PipCacheInterceptorOptions, PipCachePaginationParams, PipCacheModel, PipCacheInterceptorCollectionSettings, extractPaginationDefault } from './cache.models';\r\nimport { ICacheConfigProvider } from './cache-config.service';\r\n\r\ndeclare var Dexie;\r\ndeclare var objectHash;\r\n\r\nclass TotalItem {\r\n    hash: string;\r\n    total: {\r\n        value: number;\r\n        lastRead: number;\r\n    };\r\n    idxMap: any[];\r\n}\r\n\r\nexport interface ICacheService {\r\n    models: PipCacheModel[];\r\n    getItem(modelName: string, key: any, options?: PipCacheInterceptorOptions): Promise<any>;\r\n    getItems(modelName: string, payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]>;\r\n    setItem(modelName: string, item: any, options?: { removeTotal?: boolean }): Promise<any>;\r\n    setItems(modelName: string, items: any[], payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]>\r\n    deleteItems(modelName: string, keys: any[]): Promise<any>;\r\n    clear(model?: string | string[]): Promise<any>;\r\n}\r\n\r\nexport class CacheService implements ICacheService {\r\n\r\n    private openedDbs = new Map<string, any>();\r\n\r\n    constructor(private config: ICacheConfigProvider) { }\r\n\r\n    private getDbName(modelName: string): string {\r\n        if (!modelName) { throw new Error('Model name should be defined'); }\r\n        return this.config.prefix + modelName.charAt(0).toUpperCase() + modelName.slice(1);\r\n    }\r\n\r\n    private getDb(model: PipCacheModel): any {\r\n        if (!model || !model.name) { throw new Error('Model should be defined'); }\r\n        const dbName = this.getDbName(model.name);\r\n        if (this.openedDbs.has(dbName)) { return this.openedDbs.get(dbName); }\r\n        const db = new Dexie(dbName);\r\n        const modelKey = model.options.key || 'id';\r\n        db.version(2).stores({\r\n            items: modelKey,\r\n            hashes: 'hash',\r\n            lastRead: '',\r\n            meta: ''\r\n        });\r\n        this.openedDbs.set(dbName, db);\r\n        return db;\r\n    }\r\n\r\n    private getModel(modelName: string): PipCacheModel {\r\n        return this.models.find(m => m.name === modelName);\r\n    }\r\n\r\n    public get models(): PipCacheModel[] { return this.config.models || []; }\r\n\r\n    async getItem(modelName: string, key: any, options?: PipCacheInterceptorOptions): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const [expire, item] = await Promise.all([\r\n            db.table('lastRead').get(key),\r\n            db.table('items').get(key)\r\n        ]);\r\n        const maxAge = options && options.maxAge || model.options.maxAge;\r\n        const expired = expire + maxAge <= new Date().valueOf();\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET single item #' + key);\r\n            console.log('Item: ', item);\r\n            console.log('Expired: ', expired);\r\n            console.log('Expired at: ', new Date(expire));\r\n            console.groupEnd();\r\n        }\r\n        return expired ? null : item;\r\n    }\r\n    async getItems(modelName: string, payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const modelKey = model.options.key || 'id';\r\n        // get indexes of items we should receive\r\n        const maxAge = _.get(payload, 'interceptor.options.maxAge', model.options.maxAge);\r\n        if (this.config.enableLogs) {\r\n            console.groupCollapsed('[PipCache] GET collection of items');\r\n            console.log('Payload: ', payload);\r\n        }\r\n        const [pagination, params]: [PipCachePaginationParams, any]\r\n            = _.get(payload, 'interceptor.extractPagination', extractPaginationDefault)(payload && payload.httpParams);\r\n        const hasPagination = Object.keys(pagination).length !== 0;\r\n        const pars: PipCachePaginationParams = _.defaultsDeep(pagination, { offset: 0, limit: 0 });\r\n        const { offset, limit } = pars;\r\n        const hash = params && Object.keys(params).length ? objectHash.MD5(params) : '';\r\n        return db.table('hashes').get(hash)\r\n            .then((hi: TotalItem) => {\r\n                const total = hi && hi.total && hi.total.value && hi.total.lastRead + maxAge >= new Date().valueOf()\r\n                    ? hi.total.value : undefined;\r\n                const upper = offset + limit;\r\n                const plannedLength = hasPagination\r\n                    ? (limit ? (total ? (upper > total ? total - offset : limit) : limit) : (total ? (total - offset) : (limit)))\r\n                    : total;\r\n                let idxMap = hi && hi.idxMap || [];\r\n                if (hasPagination) {\r\n                    if (limit) {\r\n                        idxMap = idxMap.filter((it, idx) => idx >= offset && idx < upper);\r\n                        if (idxMap.length !== plannedLength) {\r\n                            if (this.config.enableLogs) {\r\n                                console.log('There\\'s not enough information about indexes');\r\n                                console.groupEnd();\r\n                            }\r\n                            return Promise.reject(null);\r\n                        }\r\n                    } else if (total !== undefined) {\r\n                        idxMap = idxMap.filter((it, idx) => idx >= offset);\r\n                        if (idxMap.length !== plannedLength) {\r\n                            if (this.config.enableLogs) {\r\n                                console.log('Not all items presented in cache');\r\n                                console.groupEnd();\r\n                            }\r\n                            return Promise.reject(null);\r\n                        }\r\n                    } else {\r\n                        if (this.config.enableLogs) {\r\n                            console.log('We want to return all items, but we don\\'t know how many they are');\r\n                            console.groupEnd();\r\n                        }\r\n                        return Promise.reject(null);\r\n                    }\r\n                } else if (total === undefined) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('We want to return all items, but we don\\'t know how many they are');\r\n                        console.groupEnd();\r\n                    }\r\n                    return Promise.reject(null);\r\n                }\r\n                return Promise.all([\r\n                    Promise.resolve(idxMap),\r\n                    !hasPagination && !hash ? db.table('items').toArray() : db.table('items').where(modelKey).anyOf(idxMap).toArray(),\r\n                    !hasPagination && !hash ? db.table('lastRead').toArray() : db.table('lastRead').where('').anyOf(idxMap).toArray()\r\n                ]);\r\n            }).then(([ids, items, reads]) => {\r\n                if (!items || items.length !== ids.length || !reads || reads.length !== ids.length) {\r\n                    if (this.config.enableLogs) {\r\n                        console.warn('Not all items presented in cache');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                if (Math.min(...reads) + maxAge <= new Date().valueOf()) {\r\n                    if (this.config.enableLogs) {\r\n                        console.log('Items was expired');\r\n                        console.groupEnd();\r\n                    }\r\n                    return null;\r\n                }\r\n                const res = ids.map(id => items.find(it => it[modelKey] === id));\r\n                if (this.config.enableLogs) {\r\n                    console.log('Items: ', res);\r\n                    console.groupEnd();\r\n                }\r\n                return res;\r\n            }).catch(reason => {\r\n                if (reason === null) {\r\n                    return null;\r\n                } else {\r\n                    throw reason;\r\n                }\r\n            });\r\n    }\r\n    async setItem(modelName: string, item: any, options?: { removeTotal?: boolean; }): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        const promises = [\r\n            db.table('lastRead').put(new Date().valueOf(), item[model.options.key]),\r\n            db.table('items').put(item)\r\n        ];\r\n        if (options) {\r\n            if (options.removeTotal) {\r\n                promises.push(db.table('hashes').toCollection().modify({ total: undefined }));\r\n            }\r\n        }\r\n        return Promise.all(promises).then((data) => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] SET single item #' + item[model.options.key]);\r\n                console.log('Item: ', data[1]);\r\n                console.log('Readed at: ', new Date());\r\n                console.groupEnd();\r\n            }\r\n            return data[1];\r\n        });\r\n    }\r\n    async setItems(modelName: string, items: any[], payload?: {\r\n        httpParams?: any,\r\n        interceptor?: PipCacheInterceptorCollectionSettings\r\n    }): Promise<any[]> {\r\n        const model = this.getModel(modelName);\r\n        const modelKey = model.options.key || 'id';\r\n        const db = this.getDb(model);\r\n        const lastRead = new Date().valueOf();\r\n        const ids = items.map(it => it[modelKey]);\r\n        let total;\r\n        const [pagination, params]: [PipCachePaginationParams, any]\r\n            = _.get(payload, 'interceptor.extractPagination', extractPaginationDefault)(payload && payload.httpParams);\r\n        const hasPagination = Object.keys(pagination).length !== 0;\r\n        const pars: PipCachePaginationParams = _.defaultsDeep(pagination, { offset: 0, limit: 0 });\r\n        const { offset, limit } = pars;\r\n        const hash = params && Object.keys(params).length ? objectHash.MD5(params) : '';\r\n        const promises = [\r\n            db.table('lastRead').bulkPut(new Array(items.length).fill(lastRead), ids),\r\n            db.table('items').bulkPut(items),\r\n            db.table('hashes').get(hash).then((hi: TotalItem) => {\r\n                const nh = hi || Object.assign(new TotalItem(), { hash, total: {}, idxMap: [] });\r\n                ids.forEach((id, idx) => nh.idxMap[idx + offset] = id);\r\n                if (hasPagination && pagination.limit && items.length && items.length < pagination.limit || !hasPagination) {\r\n                    total = (pagination.offset || 0) + items.length;\r\n                    nh.total = {\r\n                        value: total,\r\n                        lastRead\r\n                    };\r\n                }\r\n                return db.table('hashes').put(nh);\r\n            })\r\n        ];\r\n        return Promise.all(promises).then(() => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] SET collection of items');\r\n                console.log('Payload: ', payload);\r\n                console.log('Items: ', items);\r\n                console.log('Hash:', hash);\r\n                console.log('Last read at: ', new Date());\r\n                if (!_.isUndefined(total)) {\r\n                    console.log(`New total for hash [${hash}]: ${total}`);\r\n                }\r\n                console.groupEnd();\r\n            }\r\n            return items;\r\n        });\r\n    }\r\n    async deleteItems(modelName: string, keys: any[]): Promise<any> {\r\n        const model = this.getModel(modelName);\r\n        const db = this.getDb(model);\r\n        return Promise.all([\r\n            db.table('lastRead').bulkDelete(keys),\r\n            db.table('items').bulkDelete(keys),\r\n            db.transaction('rw', db.table('hashes'), async () => {\r\n                await db.table('hashes').toCollection().modify(function () {\r\n                    let removeTotal;\r\n                    keys.forEach(key => {\r\n                        const idx = this.value.idxMap.findIndex(id => id === key);\r\n                        if (idx >= 0) {\r\n                            this.value.idxMap.splice(idx, 1);\r\n                            removeTotal = true;\r\n                        }\r\n                    });\r\n                    if (removeTotal) {\r\n                        delete this.value.total;\r\n                    }\r\n                });\r\n            })\r\n        ]).then(() => {\r\n            if (this.config.enableLogs) {\r\n                console.groupCollapsed('[PipCache] DELETE');\r\n                console.log('Keys: ', keys);\r\n                console.groupEnd();\r\n            }\r\n        });\r\n    }\r\n    async clear(model?: string | string[]): Promise<any> {\r\n        return new Promise(resolve => {\r\n            const dbs: string[] = [];\r\n            if (model) {\r\n                Array.isArray(model)\r\n                    ? dbs.push(...model.map(m => this.getDbName(m)))\r\n                    : dbs.push(this.getDbName(model));\r\n                resolve(dbs);\r\n            } else {\r\n                resolve(Dexie.getDatabaseNames());\r\n            }\r\n        }).then((names: string[]) => {\r\n            const dbs = names.filter(name => name.startsWith(this.config.prefix));\r\n            if (this.config.enableLogs) {\r\n                console.log('databases to delete: ', names);\r\n            }\r\n            const promises = [];\r\n            for (const name of dbs) {\r\n                try {\r\n                    const db = this.openedDbs.has(name) ? this.openedDbs.get(name) : new Dexie(name);\r\n                    promises.push(db.table('items').clear());\r\n                    promises.push(db.table('meta').clear());\r\n                    promises.push(db.table('lastRead').clear());\r\n                    promises.push(db.table('hashes').clear());\r\n                } catch (err) {\r\n                    if (this.config.enableLogs) {\r\n                        console.warn('Error opening database ' + name);\r\n                    }\r\n                }\r\n            }\r\n            return Promise.all(promises);\r\n        }).then(res => {\r\n            if (this.config.enableLogs) {\r\n                console.log('[PipCache] CLEAR');\r\n                if (model) { console.log('Model(s): ', model); } else { console.log('all models'); }\r\n            }\r\n            return null;\r\n        });\r\n    }\r\n\r\n}\r\n\r\nexport interface ICacheProvider {\r\n    models: PipCacheModel[];\r\n    registerModel(model: PipCacheModel): boolean;\r\n}\r\n\r\nclass CacheProvider implements ICacheProvider {\r\n\r\n    private _service: ICacheService;\r\n\r\n    constructor(private pipCacheConfigProvider: ICacheConfigProvider) {\r\n        \"ngInject\";\r\n    }\r\n\r\n    public get models(): PipCacheModel[] { return this.pipCacheConfigProvider.models; }\r\n\r\n    public registerModel(model: PipCacheModel) {\r\n        if (!model) { return false; }\r\n        const res = this.models.find(m => m.name === model.name);\r\n        if (res) { return false; }\r\n        this.models.push(model);\r\n        return true;\r\n    }\r\n\r\n    public $get() {\r\n        \"ngInject\";\r\n\r\n        if (this._service == null) {\r\n            this._service = new CacheService(this.pipCacheConfigProvider);\r\n        }\r\n\r\n        return this._service;\r\n    }\r\n\r\n}\r\n\r\nangular\r\n    .module(\"pipCache\")\r\n    .provider('pipCache', CacheProvider);","angular.module('pipCache', []);\r\n\r\nimport './cache-config.service';\r\nimport './cache.service';\r\nimport './cache.interceptor';\r\n\r\nexport * from './cache.models';\r\nexport * from './cache-config.service';\r\nexport * from './cache.service';\r\n","ï»¿import './cache/index';\r\n\r\nexport * from './cache/index';\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJzcmMvY2FjaGUvY2FjaGUtY29uZmlnLnNlcnZpY2UudHMiLCJzcmMvY2FjaGUvY2FjaGUuaW50ZXJjZXB0b3IudHMiLCJzcmMvY2FjaGUvY2FjaGUubW9kZWxzLnRzIiwic3JjL2NhY2hlL2NhY2hlLnNlcnZpY2UudHMiLCJzcmMvY2FjaGUvaW5kZXgudHMiLCJzcmMvaW5kZXgudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7OztBQ1NBO0lBQ0ksNEJBQ1csT0FBZ0IsRUFDaEIsVUFBbUIsRUFDbkIsTUFBdUIsRUFDdkIsTUFBYztRQUhkLFlBQU8sR0FBUCxPQUFPLENBQVM7UUFDaEIsZUFBVSxHQUFWLFVBQVUsQ0FBUztRQUNuQixXQUFNLEdBQU4sTUFBTSxDQUFpQjtRQUN2QixXQUFNLEdBQU4sTUFBTSxDQUFRO0lBQ3JCLENBQUM7SUFDVCx5QkFBQztBQUFELENBUEEsQUFPQyxJQUFBO0FBUFksZ0RBQWtCO0FBZS9CO0lBU0k7UUFDSSxVQUFVLENBQUM7UUFOZixZQUFPLEdBQVksSUFBSSxDQUFDO1FBQ3hCLGVBQVUsR0FBWSxLQUFLLENBQUM7UUFDNUIsV0FBTSxHQUFvQixFQUFFLENBQUM7UUFDN0IsV0FBTSxHQUFXLFVBQVUsQ0FBQztJQUk1QixDQUFDO0lBRU0sa0NBQUksR0FBWDtRQUNJLFVBQVUsQ0FBQztRQUVYLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQztZQUN4QixJQUFJLENBQUMsUUFBUSxHQUFHLElBQUksa0JBQWtCLENBQ2xDLElBQUksQ0FBQyxPQUFPLEVBQ1osSUFBSSxDQUFDLFVBQVUsRUFDZixJQUFJLENBQUMsTUFBTSxFQUNYLElBQUksQ0FBQyxNQUFNLENBQ2QsQ0FBQztRQUNOLENBQUM7UUFFRCxNQUFNLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN6QixDQUFDO0lBRUwsMEJBQUM7QUFBRCxDQTVCQSxBQTRCQyxJQUFBO0FBRUQsT0FBTztLQUNGLE1BQU0sQ0FBQyxVQUFVLENBQUM7S0FDbEIsUUFBUSxDQUFDLGdCQUFnQixFQUFFLG1CQUFtQixDQUFDLENBQUM7Ozs7QUNyRHJELDhCQUNJLGFBQStCO0lBRS9CLFVBQVUsQ0FBQztJQUVYLGFBQWEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBZ0IsRUFBRSxRQUF1QixFQUFFLGNBQW1DO1FBQ3BILE1BQU0sQ0FBQztZQUNILE9BQU8sRUFBRSxVQUFDLE1BQXlCO2dCQUMvQixFQUFFLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0JBQUMsQ0FBQzt3Q0FDcEMsS0FBSzs0Q0FDRCxFQUFFO3dCQUNULElBQU0sV0FBVyxHQUFHLEtBQUssQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLENBQUM7d0JBQzNDLElBQU0sS0FBSyxHQUFHLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDakQsRUFBRSxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQzs0QkFDUixNQUFNLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztnQ0FDcEIsS0FBSyxLQUFLO29DQUNOLE1BQU0sQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUM7d0NBQ1QsS0FBSyxNQUFNLGtCQUNBLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxXQUFXLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUM7aURBQzlFLElBQUksQ0FBQyxVQUFBLElBQUk7Z0RBQ04sRUFBRSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDO29EQUNQLE1BQWMsQ0FBQyxVQUFVLEdBQUcsVUFBQyxJQUFJO3dEQUM5QixRQUFRLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsSUFBSSxFQUFFLFdBQVcsQ0FBQyxPQUFPLENBQUMsQ0FBQztvREFDNUQsQ0FBQyxDQUFDO29EQUNGLE1BQU0sQ0FBQyxNQUFNLENBQUM7Z0RBQ2xCLENBQUM7Z0RBQUMsSUFBSSxDQUFDLENBQUM7b0RBQ0osTUFBTSxDQUFDLE9BQU8sR0FBRyxFQUFFLENBQUMsS0FBSyxFQUFFLENBQUMsT0FBTyxDQUFDO29EQUNwQyxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxFQUFFLFVBQVUsRUFBRSxJQUFJLEVBQUUsQ0FBQyxDQUFDO2dEQUMzQyxDQUFDOzRDQUNMLENBQUMsQ0FBQyxHQUFDO3dDQUNYLEtBQUssWUFBWSxrQkFDTixRQUFRLENBQUMsUUFBUSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRSxXQUFXLGFBQUEsRUFBRSxDQUFDO2lEQUMzRSxJQUFJLENBQUMsVUFBQSxLQUFLO2dEQUNQLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsQ0FBQztvREFDUixNQUFjLENBQUMsVUFBVSxHQUFHLFVBQUMsSUFBSTt3REFDOUIsSUFBTSxHQUFHLEdBQUcsV0FBVyxDQUFDLGNBQWM7OERBQ2hDLFdBQVcsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQzt3REFDOUQsUUFBUSxDQUFDLFFBQVEsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLEdBQUcsRUFDN0IsRUFBRSxVQUFVLEVBQUUsTUFBTSxDQUFDLE1BQU0sRUFBRSxXQUFXLGFBQUEsRUFBRSxDQUFDLENBQUM7b0RBQ3BELENBQUMsQ0FBQztvREFDRixNQUFNLENBQUMsTUFBTSxDQUFDO2dEQUNsQixDQUFDO2dEQUFDLElBQUksQ0FBQyxDQUFDO29EQUNKLE1BQU0sQ0FBQyxPQUFPLEdBQUcsRUFBRSxDQUFDLEtBQUssRUFBRSxDQUFDLE9BQU8sQ0FBQztvREFDcEMsSUFBTSxJQUFJLEdBQUcsV0FBVyxDQUFDLGNBQWM7MERBQ2pDLFdBQVcsQ0FBQyxjQUFjLENBQUMsZUFBZSxDQUFDLEtBQUssQ0FBQyxHQUFHLEtBQUssQ0FBQztvREFDaEUsTUFBTSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsRUFBRSxVQUFVLEVBQUUsSUFBSSxFQUFFLENBQUMsQ0FBQztnREFDM0MsQ0FBQzs0Q0FDTCxDQUFDLENBQUMsR0FBQzt3Q0FDWDs0Q0FDSSxPQUFPLENBQUMsS0FBSyxDQUFDLGtDQUFnQyxFQUFFLE1BQUcsQ0FBQyxDQUFDOzRDQUNyRCxLQUFLLENBQUM7b0NBQ2QsQ0FBQztnQ0FDTCxLQUFLLE1BQU0sQ0FBQztnQ0FDWixLQUFLLEtBQUs7b0NBQ04sTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt3Q0FDVCxLQUFLLE1BQU0sQ0FBQzt3Q0FDWixLQUFLLFlBQVk7NENBQ1osTUFBYyxDQUFDLFVBQVUsR0FBRyxVQUFDLElBQUk7Z0RBQzlCLFFBQVEsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLElBQUksRUFBRSxJQUFJLEVBQUUsRUFBRSxXQUFXLEVBQUUsTUFBTSxDQUFDLE1BQU0sS0FBSyxNQUFNLEVBQUUsQ0FBQyxDQUFDOzRDQUNsRixDQUFDLENBQUM7NENBQ0YsS0FBSyxDQUFDO3dDQUNWOzRDQUNJLEtBQUssQ0FBQztvQ0FDZCxDQUFDO2dDQUNMLEtBQUssUUFBUTtvQ0FDVCxNQUFNLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDO3dDQUNULEtBQUssTUFBTTs0Q0FDTixNQUFjLENBQUMsVUFBVSxHQUFHLFVBQUMsSUFBSTtnREFDOUIsUUFBUSxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7NENBQ2xFLENBQUMsQ0FBQzs0Q0FDRixLQUFLLENBQUM7d0NBQ1Y7NENBQ0ksS0FBSyxDQUFDO29DQUNkLENBQUM7Z0NBQ0w7b0NBQ0ksS0FBSyxDQUFDOzRCQUNkLENBQUM7d0JBQ0wsQ0FBQztvQkFDTCxDQUFDO29CQXBFRCxHQUFHLENBQUMsQ0FBYSxVQUErQixFQUEvQixLQUFBLE1BQU0sQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLFlBQVksQ0FBQyxFQUEvQixjQUErQixFQUEvQixJQUErQjt3QkFBM0MsSUFBTSxFQUFFLFNBQUE7OENBQUYsRUFBRTs7O3FCQW9FWjtnQkFDTCxDQUFDO2dCQXRFRCxHQUFHLENBQUMsQ0FBZ0IsVUFBZSxFQUFmLEtBQUEsUUFBUSxDQUFDLE1BQU0sRUFBZixjQUFlLEVBQWYsSUFBZTtvQkFBOUIsSUFBTSxLQUFLLFNBQUE7MENBQUwsS0FBSzs7O2lCQXNFZjtnQkFDRCxNQUFNLENBQUMsTUFBTSxDQUFDO1lBQ2xCLENBQUM7WUFDRCxRQUFRLEVBQUUsVUFBSSxRQUF1QztnQkFDakQsRUFBRSxDQUFDLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsWUFBWSxDQUFDLElBQUksT0FBUSxRQUFRLENBQUMsTUFBYyxDQUFDLFVBQVUsS0FBSyxVQUFVLENBQUMsQ0FBQyxDQUFDO29CQUMzRyxRQUFRLENBQUMsTUFBYyxDQUFDLFVBQVUsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQ3ZELENBQUM7Z0JBQ0QsTUFBTSxDQUFDLFFBQVEsQ0FBQztZQUNwQixDQUFDO1lBQ0QsYUFBYSxFQUFFLFVBQVUsU0FBUztnQkFDOUIsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLFNBQVMsQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO29CQUNwQyxNQUFNLENBQUMsRUFBRSxDQUFDLE9BQU8sQ0FBQyxFQUFFLElBQUksRUFBRSxTQUFTLENBQUMsVUFBVSxFQUFFLENBQUMsQ0FBQztnQkFDdEQsQ0FBQztnQkFDRCxNQUFNLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQztZQUNoQyxDQUFDO1NBQ21CLENBQUM7SUFDN0IsQ0FBQyxDQUFDLENBQUM7QUFDUCxDQUFDO0FBRUQsT0FBTztLQUNGLE1BQU0sQ0FBQyxVQUFVLENBQUM7S0FDbEIsTUFBTSxDQUFDLG9CQUFvQixDQUFDLENBQUM7Ozs7Ozs7Ozs7Ozs7O0FDdkdsQztJQUFBO0lBR0EsQ0FBQztJQUFELCtCQUFDO0FBQUQsQ0FIQSxBQUdDLElBQUE7QUFIWSw0REFBd0I7QUFLckMsa0NBQXlDLE1BQVc7SUFDaEQsSUFBTSxHQUFHLEdBQUcsSUFBSSx3QkFBd0IsRUFBRSxDQUFDO0lBQzNDLElBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakMsRUFBRSxDQUFDLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUNULEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLEdBQUcsQ0FBQyxNQUFNLEdBQUcsUUFBUSxDQUFDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFDekMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3ZCLENBQUM7UUFDRCxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLENBQ25DLENBQUM7WUFDRyxHQUFHLENBQUMsS0FBSyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLEVBQUUsQ0FBQyxDQUFDO1lBQ3ZDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQztRQUN0QixDQUFDO0lBQ0wsQ0FBQztJQUNELE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxJQUFJLENBQUMsQ0FBQztBQUN2QixDQUFDO0FBZkQsNERBZUM7QUFFRDtJQUFBO0lBRUEsQ0FBQztJQUFELGlDQUFDO0FBQUQsQ0FGQSxBQUVDLElBQUE7QUFGWSxnRUFBMEI7QUFJdkM7SUFBQTtJQUdBLENBQUM7SUFBRCxrQ0FBQztBQUFELENBSEEsQUFHQyxJQUFBO0FBSFksa0VBQTJCO0FBS3hDO0lBQXFELG1EQUEyQjtJQUFoRjs7SUFFQSxDQUFDO0lBQUQsc0NBQUM7QUFBRCxDQUZBLEFBRUMsQ0FGb0QsMkJBQTJCLEdBRS9FO0FBRlksMEVBQStCO0FBSTVDO0lBQTJELHlEQUEyQjtJQUF0Rjs7SUFNQSxDQUFDO0lBQUQsNENBQUM7QUFBRCxDQU5BLEFBTUMsQ0FOMEQsMkJBQTJCLEdBTXJGO0FBTlksc0ZBQXFDO0FBUWxEO0lBQUE7SUFVQSxDQUFDO0lBQUQsb0JBQUM7QUFBRCxDQVZBLEFBVUMsSUFBQTtBQVZZLHNDQUFhOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUMzQzFCLCtDQUFzSztBQU10SztJQUFBO0lBT0EsQ0FBQztJQUFELGdCQUFDO0FBQUQsQ0FQQSxBQU9DLElBQUE7QUFrQkQ7SUFJSSxzQkFBb0IsTUFBNEI7UUFBNUIsV0FBTSxHQUFOLE1BQU0sQ0FBc0I7UUFGeEMsY0FBUyxHQUFHLElBQUksR0FBRyxFQUFlLENBQUM7SUFFUyxDQUFDO0lBRTdDLGdDQUFTLEdBQWpCLFVBQWtCLFNBQWlCO1FBQy9CLEVBQUUsQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sSUFBSSxLQUFLLENBQUMsOEJBQThCLENBQUMsQ0FBQztRQUFDLENBQUM7UUFDcEUsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxHQUFHLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxFQUFFLEdBQUcsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUN2RixDQUFDO0lBRU8sNEJBQUssR0FBYixVQUFjLEtBQW9CO1FBQzlCLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLElBQUksS0FBSyxDQUFDLHlCQUF5QixDQUFDLENBQUM7UUFBQyxDQUFDO1FBQzFFLElBQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDO1FBQzFDLEVBQUUsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUFDLENBQUM7UUFDdEUsSUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7UUFDN0IsSUFBTSxRQUFRLEdBQUcsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLElBQUksSUFBSSxDQUFDO1FBQzNDLEVBQUUsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO1lBQ2pCLEtBQUssRUFBRSxRQUFRO1lBQ2YsTUFBTSxFQUFFLE1BQU07WUFDZCxRQUFRLEVBQUUsRUFBRTtZQUNaLElBQUksRUFBRSxFQUFFO1NBQ1gsQ0FBQyxDQUFDO1FBQ0gsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBTSxFQUFFLEVBQUUsQ0FBQyxDQUFDO1FBQy9CLE1BQU0sQ0FBQyxFQUFFLENBQUM7SUFDZCxDQUFDO0lBRU8sK0JBQVEsR0FBaEIsVUFBaUIsU0FBaUI7UUFDOUIsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLFVBQUEsQ0FBQyxJQUFJLE9BQUEsQ0FBQyxDQUFDLElBQUksS0FBSyxTQUFTLEVBQXBCLENBQW9CLENBQUMsQ0FBQztJQUN2RCxDQUFDO0lBRUQsc0JBQVcsZ0NBQU07YUFBakIsY0FBdUMsTUFBTSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsTUFBTSxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUM7OztPQUFBO0lBRW5FLDhCQUFPLEdBQWIsVUFBYyxTQUFpQixFQUFFLEdBQVEsRUFBRSxPQUFvQzs7Z0JBQ3JFLEtBQUssRUFDTCxFQUFFLG9CQUtGLE1BQU0sRUFDTixPQUFPOzs7O2dDQVBDLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDOzZCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzt3QkFDTCxxQkFBTSxPQUFPLENBQUMsR0FBRyxDQUFDO2dDQUNyQyxFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUM7Z0NBQzdCLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQzs2QkFDN0IsQ0FBQyxFQUFBOzs2QkFIcUIsU0FHckI7aUNBQ2EsT0FBTyxJQUFJLE9BQU8sQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLE9BQU8sQ0FBQyxNQUFNO2tDQUNoRCxNQUFNLEdBQUcsTUFBTSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFO3dCQUN2RCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7NEJBQ3pCLE9BQU8sQ0FBQyxjQUFjLENBQUMsOEJBQThCLEdBQUcsR0FBRyxDQUFDLENBQUM7NEJBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUM1QixPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQzs0QkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEVBQUUsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQzs0QkFDOUMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUN2QixDQUFDO3dCQUNELHNCQUFPLE9BQU8sR0FBRyxJQUFJLEdBQUcsSUFBSSxFQUFDOzs7O0tBQ2hDO0lBQ0ssK0JBQVEsR0FBZCxVQUFlLFNBQWlCLEVBQUUsT0FHakM7OztnQkFDUyxLQUFLLEVBQ0wsRUFBRSxFQUNGLFFBQVEsRUFFUixNQUFNLE1BS0wsVUFBVSxFQUFFLE1BQU0sRUFFbkIsYUFBYSxFQUNiLElBQUksRUFDRixNQUFNLEVBQUUsS0FBSyxFQUNmLElBQUk7O3dCQWRJLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO3FCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzsyQkFDWCxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxJQUFJO3lCQUUzQixDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sRUFBRSw0QkFBNEIsRUFBRSxLQUFLLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztnQkFDakYsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO29CQUN6QixPQUFPLENBQUMsY0FBYyxDQUFDLG9DQUFvQyxDQUFDLENBQUM7b0JBQzdELE9BQU8sQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLE9BQU8sQ0FBQyxDQUFDO2dCQUN0QyxDQUFDO3FCQUVLLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLCtCQUErQixFQUFFLHVDQUF3QixDQUFDLENBQUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUM7Z0NBQ3hGLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUM7dUJBQ25CLENBQUMsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUM7eUJBQ2hFLElBQUksaUJBQUosSUFBSTt1QkFDakIsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDL0Usc0JBQU8sRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO3lCQUM5QixJQUFJLENBQUMsVUFBQyxFQUFhO3dCQUNoQixJQUFNLEtBQUssR0FBRyxFQUFFLElBQUksRUFBRSxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxNQUFNLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUU7OEJBQzlGLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxHQUFHLFNBQVMsQ0FBQzt3QkFDakMsSUFBTSxLQUFLLEdBQUcsTUFBTSxHQUFHLEtBQUssQ0FBQzt3QkFDN0IsSUFBTSxhQUFhLEdBQUcsYUFBYTs4QkFDN0IsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEdBQUcsS0FBSyxHQUFHLEtBQUssR0FBRyxNQUFNLEdBQUcsS0FBSyxDQUFDLEdBQUcsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxLQUFLLEdBQUcsTUFBTSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDOzhCQUMzRyxLQUFLLENBQUM7d0JBQ1osSUFBSSxNQUFNLEdBQUcsRUFBRSxJQUFJLEVBQUUsQ0FBQyxNQUFNLElBQUksRUFBRSxDQUFDO3dCQUNuQyxFQUFFLENBQUMsQ0FBQyxhQUFhLENBQUMsQ0FBQyxDQUFDOzRCQUNoQixFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxDQUFDO2dDQUNSLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSyxPQUFBLEdBQUcsSUFBSSxNQUFNLElBQUksR0FBRyxHQUFHLEtBQUssRUFBNUIsQ0FBNEIsQ0FBQyxDQUFDO2dDQUNsRSxFQUFFLENBQUMsQ0FBQyxNQUFNLENBQUMsTUFBTSxLQUFLLGFBQWEsQ0FBQyxDQUFDLENBQUM7b0NBQ2xDLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzt3Q0FDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQywrQ0FBK0MsQ0FBQyxDQUFDO3dDQUM3RCxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7b0NBQ3ZCLENBQUM7b0NBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7Z0NBQ2hDLENBQUM7NEJBQ0wsQ0FBQzs0QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7Z0NBQzdCLE1BQU0sR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDLFVBQUMsRUFBRSxFQUFFLEdBQUcsSUFBSyxPQUFBLEdBQUcsSUFBSSxNQUFNLEVBQWIsQ0FBYSxDQUFDLENBQUM7Z0NBQ25ELEVBQUUsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxNQUFNLEtBQUssYUFBYSxDQUFDLENBQUMsQ0FBQztvQ0FDbEMsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO3dDQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLGtDQUFrQyxDQUFDLENBQUM7d0NBQ2hELE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQztvQ0FDdkIsQ0FBQztvQ0FDRCxNQUFNLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztnQ0FDaEMsQ0FBQzs0QkFDTCxDQUFDOzRCQUFDLElBQUksQ0FBQyxDQUFDO2dDQUNKLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztvQ0FDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDO29DQUNqRixPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7Z0NBQ3ZCLENBQUM7Z0NBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7NEJBQ2hDLENBQUM7d0JBQ0wsQ0FBQzt3QkFBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUMsS0FBSyxLQUFLLFNBQVMsQ0FBQyxDQUFDLENBQUM7NEJBQzdCLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQ0FDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtRUFBbUUsQ0FBQyxDQUFDO2dDQUNqRixPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7NEJBQ3ZCLENBQUM7NEJBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7d0JBQ2hDLENBQUM7d0JBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUM7NEJBQ2YsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUM7NEJBQ3ZCLENBQUMsYUFBYSxJQUFJLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sRUFBRTs0QkFDakgsQ0FBQyxhQUFhLElBQUksQ0FBQyxJQUFJLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLEVBQUUsR0FBRyxFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsT0FBTyxFQUFFO3lCQUNwSCxDQUFDLENBQUM7b0JBQ1AsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsRUFBbUI7NEJBQWxCLFdBQUcsRUFBRSxhQUFLLEVBQUUsYUFBSzt3QkFDdkIsRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLElBQUksS0FBSyxDQUFDLE1BQU0sS0FBSyxHQUFHLENBQUMsTUFBTSxJQUFJLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLEtBQUssR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7NEJBQ2pGLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQztnQ0FDekIsT0FBTyxDQUFDLElBQUksQ0FBQyxrQ0FBa0MsQ0FBQyxDQUFDO2dDQUNqRCxPQUFPLENBQUMsUUFBUSxFQUFFLENBQUM7NEJBQ3ZCLENBQUM7NEJBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQzt3QkFDaEIsQ0FBQzt3QkFDRCxFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxPQUFSLElBQUksRUFBUSxLQUFLLElBQUksTUFBTSxJQUFJLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDOzRCQUN0RCxFQUFFLENBQUMsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUM7Z0NBQ3pCLE9BQU8sQ0FBQyxHQUFHLENBQUMsbUJBQW1CLENBQUMsQ0FBQztnQ0FDakMsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDOzRCQUN2QixDQUFDOzRCQUNELE1BQU0sQ0FBQyxJQUFJLENBQUM7d0JBQ2hCLENBQUM7d0JBQ0QsSUFBTSxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFBLEtBQUssQ0FBQyxJQUFJLENBQUMsVUFBQSxFQUFFLElBQUksT0FBQSxFQUFFLENBQUMsUUFBUSxDQUFDLEtBQUssRUFBRSxFQUFuQixDQUFtQixDQUFDLEVBQXJDLENBQXFDLENBQUMsQ0FBQzt3QkFDakUsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOzRCQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLFNBQVMsRUFBRSxHQUFHLENBQUMsQ0FBQzs0QkFDNUIsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUN2QixDQUFDO3dCQUNELE1BQU0sQ0FBQyxHQUFHLENBQUM7b0JBQ2YsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUEsTUFBTTt3QkFDWCxFQUFFLENBQUMsQ0FBQyxNQUFNLEtBQUssSUFBSSxDQUFDLENBQUMsQ0FBQzs0QkFDbEIsTUFBTSxDQUFDLElBQUksQ0FBQzt3QkFDaEIsQ0FBQzt3QkFBQyxJQUFJLENBQUMsQ0FBQzs0QkFDSixNQUFNLE1BQU0sQ0FBQzt3QkFDakIsQ0FBQztvQkFDTCxDQUFDLENBQUMsRUFBQzs7O0tBQ1Y7SUFDSyw4QkFBTyxHQUFiLFVBQWMsU0FBaUIsRUFBRSxJQUFTLEVBQUUsT0FBb0M7OztnQkFDdEUsS0FBSyxFQUNMLEVBQUUsRUFDRixRQUFROzt3QkFGQSxJQUFJLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQztxQkFDM0IsSUFBSSxDQUFDLEtBQUssQ0FBQyxLQUFLLENBQUM7MkJBQ1g7b0JBQ2IsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsRUFBRSxJQUFJLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztvQkFDdkUsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDO2lCQUM5QjtnQkFDRCxFQUFFLENBQUMsQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDO29CQUNWLEVBQUUsQ0FBQyxDQUFDLE9BQU8sQ0FBQyxXQUFXLENBQUMsQ0FBQyxDQUFDO3dCQUN0QixRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsWUFBWSxFQUFFLENBQUMsTUFBTSxDQUFDLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBRSxDQUFDLENBQUMsQ0FBQztvQkFDbEYsQ0FBQztnQkFDTCxDQUFDO2dCQUNELHNCQUFPLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsSUFBSTt3QkFDbkMsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOzRCQUN6QixPQUFPLENBQUMsY0FBYyxDQUFDLDhCQUE4QixHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7NEJBQ2pGLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDOzRCQUMvQixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBRSxJQUFJLElBQUksRUFBRSxDQUFDLENBQUM7NEJBQ3ZDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQzt3QkFDdkIsQ0FBQzt3QkFDRCxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29CQUNuQixDQUFDLENBQUMsRUFBQzs7O0tBQ047SUFDSywrQkFBUSxHQUFkLFVBQWUsU0FBaUIsRUFBRSxLQUFZLEVBQUUsT0FHL0M7OztnQkFDUyxLQUFLLEVBQ0wsUUFBUSxFQUNSLEVBQUUsRUFDRixRQUFRLEVBQ1IsR0FBRyxFQUNMLEtBQUssTUFDRixVQUFVLEVBQUUsTUFBTSxFQUVuQixhQUFhLEVBQ2IsSUFBSSxFQUNGLE1BQU0sRUFBRSxLQUFLLEVBQ2YsSUFBSSxFQUNKLFFBQVE7O3dCQVpBLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDOzJCQUNyQixLQUFLLENBQUMsT0FBTyxDQUFDLEdBQUcsSUFBSSxJQUFJO3FCQUMvQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQzsyQkFDWCxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRTtzQkFDekIsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFBLEVBQUUsQ0FBQyxRQUFRLENBQUMsRUFBWixDQUFZLENBQUM7cUJBR25DLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLCtCQUErQixFQUFFLHVDQUF3QixDQUFDLENBQUMsT0FBTyxJQUFJLE9BQU8sQ0FBQyxVQUFVLENBQUM7Z0NBQ3hGLE1BQU0sQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxLQUFLLENBQUM7dUJBQ25CLENBQUMsQ0FBQyxZQUFZLENBQUMsVUFBVSxFQUFFLEVBQUUsTUFBTSxFQUFFLENBQUMsRUFBRSxLQUFLLEVBQUUsQ0FBQyxFQUFFLENBQUM7eUJBQ2hFLElBQUksaUJBQUosSUFBSTt1QkFDakIsTUFBTSxJQUFJLE1BQU0sQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRTsyQkFDOUQ7b0JBQ2IsRUFBRSxDQUFDLEtBQUssQ0FBQyxVQUFVLENBQUMsQ0FBQyxPQUFPLENBQUMsSUFBSSxLQUFLLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsRUFBRSxHQUFHLENBQUM7b0JBQ3pFLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQztvQkFDaEMsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUMsRUFBYTt3QkFDNUMsSUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLE1BQU0sQ0FBQyxNQUFNLENBQUMsSUFBSSxTQUFTLEVBQUUsRUFBRSxFQUFFLElBQUksTUFBQSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUM7d0JBQ2pGLEdBQUcsQ0FBQyxPQUFPLENBQUMsVUFBQyxFQUFFLEVBQUUsR0FBRyxJQUFLLE9BQUEsRUFBRSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEdBQUcsTUFBTSxDQUFDLEdBQUcsRUFBRSxFQUE1QixDQUE0QixDQUFDLENBQUM7d0JBQ3ZELEVBQUUsQ0FBQyxDQUFDLGFBQWEsSUFBSSxVQUFVLENBQUMsS0FBSyxJQUFJLEtBQUssQ0FBQyxNQUFNLElBQUksS0FBSyxDQUFDLE1BQU0sR0FBRyxVQUFVLENBQUMsS0FBSyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQzs0QkFDekcsS0FBSyxHQUFHLENBQUMsVUFBVSxDQUFDLE1BQU0sSUFBSSxDQUFDLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDOzRCQUNoRCxFQUFFLENBQUMsS0FBSyxHQUFHO2dDQUNQLEtBQUssRUFBRSxLQUFLO2dDQUNaLFFBQVEsVUFBQTs2QkFDWCxDQUFDO3dCQUNOLENBQUM7d0JBQ0QsTUFBTSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsUUFBUSxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO29CQUN0QyxDQUFDLENBQUM7aUJBQ0w7Z0JBQ0Qsc0JBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQyxRQUFRLENBQUMsQ0FBQyxJQUFJLENBQUM7d0JBQzlCLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzs0QkFDekIsT0FBTyxDQUFDLGNBQWMsQ0FBQyxvQ0FBb0MsQ0FBQyxDQUFDOzRCQUM3RCxPQUFPLENBQUMsR0FBRyxDQUFDLFdBQVcsRUFBRSxPQUFPLENBQUMsQ0FBQzs0QkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxTQUFTLEVBQUUsS0FBSyxDQUFDLENBQUM7NEJBQzlCLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksQ0FBQyxDQUFDOzRCQUMzQixPQUFPLENBQUMsR0FBRyxDQUFDLGdCQUFnQixFQUFFLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQzs0QkFDMUMsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsV0FBVyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQztnQ0FDeEIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx5QkFBdUIsSUFBSSxXQUFNLEtBQU8sQ0FBQyxDQUFDOzRCQUMxRCxDQUFDOzRCQUNELE9BQU8sQ0FBQyxRQUFRLEVBQUUsQ0FBQzt3QkFDdkIsQ0FBQzt3QkFDRCxNQUFNLENBQUMsS0FBSyxDQUFDO29CQUNqQixDQUFDLENBQUMsRUFBQzs7O0tBQ047SUFDSyxrQ0FBVyxHQUFqQixVQUFrQixTQUFpQixFQUFFLElBQVc7OztnQkFDdEMsS0FBSyxFQUNMLEVBQUU7O3dCQURNLElBQUksQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDO3FCQUMzQixJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssQ0FBQztnQkFDNUIsc0JBQU8sT0FBTyxDQUFDLEdBQUcsQ0FBQzt3QkFDZixFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUM7d0JBQ3JDLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQzt3QkFDbEMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsRUFBRTs7OzRDQUNyQyxxQkFBTSxFQUFFLENBQUMsS0FBSyxDQUFDLFFBQVEsQ0FBQyxDQUFDLFlBQVksRUFBRSxDQUFDLE1BQU0sQ0FBQzs0Q0FBQSxpQkFZOUM7NENBWEcsSUFBSSxXQUFXLENBQUM7NENBQ2hCLElBQUksQ0FBQyxPQUFPLENBQUMsVUFBQSxHQUFHO2dEQUNaLElBQU0sR0FBRyxHQUFHLEtBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLFNBQVMsQ0FBQyxVQUFBLEVBQUUsSUFBSSxPQUFBLEVBQUUsS0FBSyxHQUFHLEVBQVYsQ0FBVSxDQUFDLENBQUM7Z0RBQzFELEVBQUUsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO29EQUNYLEtBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUM7b0RBQ2pDLFdBQVcsR0FBRyxJQUFJLENBQUM7Z0RBQ3ZCLENBQUM7NENBQ0wsQ0FBQyxDQUFDLENBQUM7NENBQ0gsRUFBRSxDQUFDLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQztnREFDZCxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDOzRDQUM1QixDQUFDO3dDQUNMLENBQUMsQ0FBQyxFQUFBOzt3Q0FaRixTQVlFLENBQUM7Ozs7NkJBQ04sQ0FBQztxQkFDTCxDQUFDLENBQUMsSUFBSSxDQUFDO3dCQUNKLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzs0QkFDekIsT0FBTyxDQUFDLGNBQWMsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFDOzRCQUM1QyxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRSxJQUFJLENBQUMsQ0FBQzs0QkFDNUIsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO3dCQUN2QixDQUFDO29CQUNMLENBQUMsQ0FBQyxFQUFDOzs7S0FDTjtJQUNLLDRCQUFLLEdBQVgsVUFBWSxLQUF5Qjs7OztnQkFDakMsc0JBQU8sSUFBSSxPQUFPLENBQUMsVUFBQSxPQUFPO3dCQUN0QixJQUFNLEdBQUcsR0FBYSxFQUFFLENBQUM7d0JBQ3pCLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7NEJBQ1IsS0FBSyxDQUFDLE9BQU8sQ0FBQyxLQUFLLENBQUM7a0NBQ2QsR0FBRyxDQUFDLElBQUksT0FBUixHQUFHLEVBQVMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLEtBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLEVBQWpCLENBQWlCLENBQUMsSUFDN0MsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFJLENBQUMsU0FBUyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7NEJBQ3RDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQzt3QkFDakIsQ0FBQzt3QkFBQyxJQUFJLENBQUMsQ0FBQzs0QkFDSixPQUFPLENBQUMsS0FBSyxDQUFDLGdCQUFnQixFQUFFLENBQUMsQ0FBQzt3QkFDdEMsQ0FBQztvQkFDTCxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsVUFBQyxLQUFlO3dCQUNwQixJQUFNLEdBQUcsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDLFVBQUEsSUFBSSxJQUFJLE9BQUEsSUFBSSxDQUFDLFVBQVUsQ0FBQyxLQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFuQyxDQUFtQyxDQUFDLENBQUM7d0JBQ3RFLEVBQUUsQ0FBQyxDQUFDLEtBQUksQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQzs0QkFDekIsT0FBTyxDQUFDLEdBQUcsQ0FBQyx1QkFBdUIsRUFBRSxLQUFLLENBQUMsQ0FBQzt3QkFDaEQsQ0FBQzt3QkFDRCxJQUFNLFFBQVEsR0FBRyxFQUFFLENBQUM7d0JBQ3BCLEdBQUcsQ0FBQyxDQUFlLFVBQUcsRUFBSCxXQUFHLEVBQUgsaUJBQUcsRUFBSCxJQUFHOzRCQUFqQixJQUFNLE1BQUksWUFBQTs0QkFDWCxJQUFJLENBQUM7Z0NBQ0QsSUFBTSxFQUFFLEdBQUcsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBSSxDQUFDLEdBQUcsS0FBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsTUFBSSxDQUFDLEdBQUcsSUFBSSxLQUFLLENBQUMsTUFBSSxDQUFDLENBQUM7Z0NBQ2pGLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxPQUFPLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDO2dDQUN6QyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQztnQ0FDeEMsUUFBUSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLFVBQVUsQ0FBQyxDQUFDLEtBQUssRUFBRSxDQUFDLENBQUM7Z0NBQzVDLFFBQVEsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxRQUFRLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxDQUFDOzRCQUM5QyxDQUFDOzRCQUFDLEtBQUssQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7Z0NBQ1gsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO29DQUN6QixPQUFPLENBQUMsSUFBSSxDQUFDLHlCQUF5QixHQUFHLE1BQUksQ0FBQyxDQUFDO2dDQUNuRCxDQUFDOzRCQUNMLENBQUM7eUJBQ0o7d0JBQ0QsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxDQUFDLENBQUM7b0JBQ2pDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxVQUFBLEdBQUc7d0JBQ1AsRUFBRSxDQUFDLENBQUMsS0FBSSxDQUFDLE1BQU0sQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDOzRCQUN6QixPQUFPLENBQUMsR0FBRyxDQUFDLGtCQUFrQixDQUFDLENBQUM7NEJBQ2hDLEVBQUUsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7Z0NBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEVBQUUsS0FBSyxDQUFDLENBQUM7NEJBQUMsQ0FBQzs0QkFBQyxJQUFJLENBQUMsQ0FBQztnQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFlBQVksQ0FBQyxDQUFDOzRCQUFDLENBQUM7d0JBQ3hGLENBQUM7d0JBQ0QsTUFBTSxDQUFDLElBQUksQ0FBQztvQkFDaEIsQ0FBQyxDQUFDLEVBQUM7OztLQUNOO0lBRUwsbUJBQUM7QUFBRCxDQTVSQSxBQTRSQyxJQUFBO0FBNVJZLG9DQUFZO0FBbVN6QjtJQUlJLHVCQUFvQixzQkFBNEM7UUFDNUQsVUFBVSxDQUFDO1FBREssMkJBQXNCLEdBQXRCLHNCQUFzQixDQUFzQjtJQUVoRSxDQUFDO0lBRUQsc0JBQVcsaUNBQU07YUFBakIsY0FBdUMsTUFBTSxDQUFDLElBQUksQ0FBQyxzQkFBc0IsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDOzs7T0FBQTtJQUU1RSxxQ0FBYSxHQUFwQixVQUFxQixLQUFvQjtRQUNyQyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQUMsQ0FBQztRQUM3QixJQUFNLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxVQUFBLENBQUMsSUFBSSxPQUFBLENBQUMsQ0FBQyxJQUFJLEtBQUssS0FBSyxDQUFDLElBQUksRUFBckIsQ0FBcUIsQ0FBQyxDQUFDO1FBQ3pELEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7WUFBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUN4QixNQUFNLENBQUMsSUFBSSxDQUFDO0lBQ2hCLENBQUM7SUFFTSw0QkFBSSxHQUFYO1FBQ0ksVUFBVSxDQUFDO1FBRVgsRUFBRSxDQUFDLENBQUMsSUFBSSxDQUFDLFFBQVEsSUFBSSxJQUFJLENBQUMsQ0FBQyxDQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxZQUFZLENBQUMsSUFBSSxDQUFDLHNCQUFzQixDQUFDLENBQUM7UUFDbEUsQ0FBQztRQUVELE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDO0lBQ3pCLENBQUM7SUFFTCxvQkFBQztBQUFELENBNUJBLEFBNEJDLElBQUE7QUFFRCxPQUFPO0tBQ0YsTUFBTSxDQUFDLFVBQVUsQ0FBQztLQUNsQixRQUFRLENBQUMsVUFBVSxFQUFFLGFBQWEsQ0FBQyxDQUFDOzs7Ozs7O0FDbFd6QyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsRUFBRSxFQUFFLENBQUMsQ0FBQztBQUUvQixrQ0FBZ0M7QUFDaEMsMkJBQXlCO0FBQ3pCLCtCQUE2QjtBQUU3QixvQ0FBK0I7QUFDL0IsNENBQXVDO0FBQ3ZDLHFDQUFnQzs7Ozs7OztBQ1IvQix5QkFBdUI7QUFFeEIsbUNBQThCIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PVwiZnVuY3Rpb25cIiYmcmVxdWlyZTtpZighdSYmYSlyZXR1cm4gYShvLCEwKTtpZihpKXJldHVybiBpKG8sITApO3ZhciBmPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIrbytcIidcIik7dGhyb3cgZi5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGZ9dmFyIGw9bltvXT17ZXhwb3J0czp7fX07dFtvXVswXS5jYWxsKGwuZXhwb3J0cyxmdW5jdGlvbihlKXt2YXIgbj10W29dWzFdW2VdO3JldHVybiBzKG4/bjplKX0sbCxsLmV4cG9ydHMsZSx0LG4scil9cmV0dXJuIG5bb10uZXhwb3J0c312YXIgaT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2Zvcih2YXIgbz0wO288ci5sZW5ndGg7bysrKXMocltvXSk7cmV0dXJuIHN9KSIsImltcG9ydCB7IFBpcENhY2hlTW9kZWwgfSBmcm9tIFwiLi9jYWNoZS5tb2RlbHNcIjtcclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhY2hlQ29uZmlnU2VydmljZSB7XHJcbiAgICBlbmFibGVkOiBib29sZWFuO1xyXG4gICAgZW5hYmxlTG9nczogYm9vbGVhbjtcclxuICAgIG1vZGVsczogUGlwQ2FjaGVNb2RlbFtdO1xyXG4gICAgcHJlZml4OiBzdHJpbmc7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBDYWNoZUNvbmZpZ1NlcnZpY2UgaW1wbGVtZW50cyBJQ2FjaGVDb25maWdTZXJ2aWNlIHtcclxuICAgIGNvbnN0cnVjdG9yKFxyXG4gICAgICAgIHB1YmxpYyBlbmFibGVkOiBib29sZWFuLFxyXG4gICAgICAgIHB1YmxpYyBlbmFibGVMb2dzOiBib29sZWFuLFxyXG4gICAgICAgIHB1YmxpYyBtb2RlbHM6IFBpcENhY2hlTW9kZWxbXSxcclxuICAgICAgICBwdWJsaWMgcHJlZml4OiBzdHJpbmdcclxuICAgICkgeyB9XHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhY2hlQ29uZmlnUHJvdmlkZXIge1xyXG4gICAgZW5hYmxlTG9nczogYm9vbGVhbjtcclxuICAgIG1vZGVsczogUGlwQ2FjaGVNb2RlbFtdO1xyXG4gICAgcHJlZml4OiBzdHJpbmc7XHJcbn1cclxuXHJcbmNsYXNzIENhY2hlQ29uZmlnUHJvdmlkZXIgaW1wbGVtZW50cyBJQ2FjaGVDb25maWdQcm92aWRlciwgbmcuSVNlcnZpY2VQcm92aWRlciB7XHJcblxyXG4gICAgcHJpdmF0ZSBfc2VydmljZTogQ2FjaGVDb25maWdTZXJ2aWNlO1xyXG5cclxuICAgIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xyXG4gICAgZW5hYmxlTG9nczogYm9vbGVhbiA9IGZhbHNlO1xyXG4gICAgbW9kZWxzOiBQaXBDYWNoZU1vZGVsW10gPSBbXTtcclxuICAgIHByZWZpeDogc3RyaW5nID0gJ1BpcENhY2hlJztcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljICRnZXQoKSB7XHJcbiAgICAgICAgXCJuZ0luamVjdFwiO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5fc2VydmljZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRoaXMuX3NlcnZpY2UgPSBuZXcgQ2FjaGVDb25maWdTZXJ2aWNlKFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVkLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5lbmFibGVMb2dzLFxyXG4gICAgICAgICAgICAgICAgdGhpcy5tb2RlbHMsXHJcbiAgICAgICAgICAgICAgICB0aGlzLnByZWZpeFxyXG4gICAgICAgICAgICApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5hbmd1bGFyXHJcbiAgICAubW9kdWxlKFwicGlwQ2FjaGVcIilcclxuICAgIC5wcm92aWRlcigncGlwQ2FjaGVDb25maWcnLCBDYWNoZUNvbmZpZ1Byb3ZpZGVyKTsiLCJpbXBvcnQgeyBJQ2FjaGVTZXJ2aWNlIH0gZnJvbSBcIi4vY2FjaGUuc2VydmljZVwiO1xyXG5pbXBvcnQgeyBJQ2FjaGVDb25maWdTZXJ2aWNlIH0gZnJvbSBcIi4vY2FjaGUtY29uZmlnLnNlcnZpY2VcIjtcclxuXHJcbmZ1bmN0aW9uIGNvbmZpZ3VyZUludGVyY2VwdG9yKFxyXG4gICAgJGh0dHBQcm92aWRlcjogbmcuSUh0dHBQcm92aWRlclxyXG4pIHtcclxuICAgIFwibmdJbmplY3RcIjtcclxuXHJcbiAgICAkaHR0cFByb3ZpZGVyLmludGVyY2VwdG9ycy5wdXNoKGZ1bmN0aW9uICgkcTogbmcuSVFTZXJ2aWNlLCBwaXBDYWNoZTogSUNhY2hlU2VydmljZSwgcGlwQ2FjaGVDb25maWc6IElDYWNoZUNvbmZpZ1NlcnZpY2UpIHtcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICByZXF1ZXN0OiAoY29uZmlnOiBuZy5JUmVxdWVzdENvbmZpZykgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwaXBDYWNoZUNvbmZpZy5lbmFibGVkKSB7IHJldHVybiBjb25maWc7IH1cclxuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbW9kZWwgb2YgcGlwQ2FjaGUubW9kZWxzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCBpayBvZiBPYmplY3Qua2V5cyhtb2RlbC5pbnRlcmNlcHRvcnMpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGludGVyY2VwdG9yID0gbW9kZWwuaW50ZXJjZXB0b3JzW2lrXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBpbnRlcmNlcHRvci5tYXRjaC5leGVjKGNvbmZpZy51cmwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWF0Y2gpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY29uZmlnLm1ldGhvZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ0dFVCc6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoaWspIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2l0ZW0nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBwaXBDYWNoZS5nZXRJdGVtKG1vZGVsLm5hbWUsIGludGVyY2VwdG9yLmdldEtleShtYXRjaCksIGludGVyY2VwdG9yLm9wdGlvbnMpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50aGVuKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKGNvbmZpZyBhcyBhbnkpLm9uUmVzcG9uc2UgPSAoYm9keSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaXBDYWNoZS5zZXRJdGVtKG1vZGVsLm5hbWUsIGJvZHksIGludGVyY2VwdG9yLm9wdGlvbnMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpZztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uZmlnLnRpbWVvdXQgPSAkcS5kZWZlcigpLnByb21pc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdCh7IGNhY2hlZERhdGE6IGl0ZW0gfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnY29sbGVjdGlvbic6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBpcENhY2hlLmdldEl0ZW1zKG1vZGVsLm5hbWUsIHsgaHR0cFBhcmFtczogY29uZmlnLnBhcmFtcywgaW50ZXJjZXB0b3IgfSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLnRoZW4oaXRlbXMgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpdGVtcykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb25maWcgYXMgYW55KS5vblJlc3BvbnNlID0gKGJvZHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXRzID0gaW50ZXJjZXB0b3IucmVzcG9uc2VNb2RpZnlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gaW50ZXJjZXB0b3IucmVzcG9uc2VNb2RpZnkucmVzcG9uc2VUb0l0ZW1zKGJvZHkpIDogYm9keTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlwQ2FjaGUuc2V0SXRlbXMobW9kZWwubmFtZSwgaXRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBodHRwUGFyYW1zOiBjb25maWcucGFyYW1zLCBpbnRlcmNlcHRvciB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbmZpZy50aW1lb3V0ID0gJHEuZGVmZXIoKS5wcm9taXNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3AgPSBpbnRlcmNlcHRvci5yZXNwb25zZU1vZGlmeVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGludGVyY2VwdG9yLnJlc3BvbnNlTW9kaWZ5Lml0ZW1zVG9SZXNwb25zZShpdGVtcykgOiBpdGVtcztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVqZWN0KHsgY2FjaGVkRGF0YTogcmVzcCB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFVua25vd24gdHlwZSBvZiBpbnRlcmNlcHRvciAoJHtpa30pYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQT1NUJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdQVVQnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpdGVtJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2NvbGxlY3Rpb24nOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjb25maWcgYXMgYW55KS5vblJlc3BvbnNlID0gKGJvZHkpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGlwQ2FjaGUuc2V0SXRlbShtb2RlbC5uYW1lLCBib2R5LCB7IHJlbW92ZVRvdGFsOiBjb25maWcubWV0aG9kID09PSAnUE9TVCcgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdERUxFVEUnOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGlrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICdpdGVtJzpcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoY29uZmlnIGFzIGFueSkub25SZXNwb25zZSA9IChib2R5KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBpcENhY2hlLmRlbGV0ZUl0ZW1zKG1vZGVsLm5hbWUsIFtpbnRlcmNlcHRvci5nZXRLZXkobWF0Y2gpXSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBjb25maWc7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlOiA8VD4ocmVzcG9uc2U6IG5nLklIdHRwUHJvbWlzZUNhbGxiYWNrQXJnPFQ+KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29uZmlnLmhhc093blByb3BlcnR5KCdvblJlc3BvbnNlJykgJiYgdHlwZW9mIChyZXNwb25zZS5jb25maWcgYXMgYW55KS5vblJlc3BvbnNlID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgKHJlc3BvbnNlLmNvbmZpZyBhcyBhbnkpLm9uUmVzcG9uc2UocmVzcG9uc2UuZGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHJlc3BvbnNlRXJyb3I6IGZ1bmN0aW9uIChyZWplY3Rpb24pIHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWplY3Rpb24gJiYgcmVqZWN0aW9uLmNhY2hlZERhdGEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gJHEucmVzb2x2ZSh7IGRhdGE6IHJlamVjdGlvbi5jYWNoZWREYXRhIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuICRxLnJlamVjdChyZWplY3Rpb24pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBhcyBuZy5JSHR0cEludGVyY2VwdG9yO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmFuZ3VsYXJcclxuICAgIC5tb2R1bGUoJ3BpcENhY2hlJylcclxuICAgIC5jb25maWcoY29uZmlndXJlSW50ZXJjZXB0b3IpOyIsImV4cG9ydCBjbGFzcyBQaXBDYWNoZVBhZ2luYXRpb25QYXJhbXMge1xyXG4gICAgb2Zmc2V0PzogbnVtYmVyO1xyXG4gICAgbGltaXQ/OiBudW1iZXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0UGFnaW5hdGlvbkRlZmF1bHQocGFyYW1zOiBhbnkpOiBbUGlwQ2FjaGVQYWdpbmF0aW9uUGFyYW1zLCBhbnldIHtcclxuICAgIGNvbnN0IHJlcyA9IG5ldyBQaXBDYWNoZVBhZ2luYXRpb25QYXJhbXMoKTtcclxuICAgIGNvbnN0IHBhcnMgPSBfLmNsb25lRGVlcChwYXJhbXMpO1xyXG4gICAgaWYgKHBhcmFtcykge1xyXG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoJ29mZnNldCcpKSB7XHJcbiAgICAgICAgICAgIHJlcy5vZmZzZXQgPSBwYXJzZUludChwYXJhbXMub2Zmc2V0LCAxMCk7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBwYXJzLm9mZnNldDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHBhcmFtcy5oYXNPd25Qcm9wZXJ0eSgnbGltaXQnKSkgXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICByZXMubGltaXQgPSBwYXJzZUludChwYXJhbXMubGltaXQsIDEwKTtcclxuICAgICAgICAgICAgZGVsZXRlIHBhcnMubGltaXQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIFtyZXMsIHBhcnNdO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGlwQ2FjaGVJbnRlcmNlcHRvck9wdGlvbnMge1xyXG4gICAgbWF4QWdlPzogbnVtYmVyO1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgUGlwQ2FjaGVJbnRlcmNlcHRvclNldHRpbmdzIHtcclxuICAgIG1hdGNoOiBSZWdFeHA7XHJcbiAgICBvcHRpb25zPzogUGlwQ2FjaGVJbnRlcmNlcHRvck9wdGlvbnM7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQaXBDYWNoZUludGVyY2VwdG9ySXRlbVNldHRpbmdzIGV4dGVuZHMgUGlwQ2FjaGVJbnRlcmNlcHRvclNldHRpbmdzIHtcclxuICAgIGdldEtleTogKGdyb3VwczogYW55KSA9PiBhbnk7XHJcbn1cclxuXHJcbmV4cG9ydCBjbGFzcyBQaXBDYWNoZUludGVyY2VwdG9yQ29sbGVjdGlvblNldHRpbmdzIGV4dGVuZHMgUGlwQ2FjaGVJbnRlcmNlcHRvclNldHRpbmdzIHtcclxuICAgIHJlc3BvbnNlTW9kaWZ5Pzoge1xyXG4gICAgICAgIHJlc3BvbnNlVG9JdGVtczogKHJlc3A6IGFueSkgPT4gYW55W107XHJcbiAgICAgICAgaXRlbXNUb1Jlc3BvbnNlOiAoaXRlbXM6IGFueVtdKSA9PiBhbnk7XHJcbiAgICB9O1xyXG4gICAgLy8gZXh0cmFjdFBhZ2luYXRpb24/OiAocGFyYW1zOiBIdHRwUGFyYW1zKSA9PiBbUGlwQ2FjaGVQYWdpbmF0aW9uUGFyYW1zLCBIdHRwUGFyYW1zXTtcclxufVxyXG5cclxuZXhwb3J0IGNsYXNzIFBpcENhY2hlTW9kZWwge1xyXG4gICAgbmFtZTogc3RyaW5nO1xyXG4gICAgb3B0aW9uczoge1xyXG4gICAgICAgIG1heEFnZTogbnVtYmVyO1xyXG4gICAgICAgIGtleT86IHN0cmluZztcclxuICAgIH07XHJcbiAgICBpbnRlcmNlcHRvcnM6IHtcclxuICAgICAgICBpdGVtPzogUGlwQ2FjaGVJbnRlcmNlcHRvckl0ZW1TZXR0aW5ncztcclxuICAgICAgICBjb2xsZWN0aW9uPzogUGlwQ2FjaGVJbnRlcmNlcHRvckNvbGxlY3Rpb25TZXR0aW5ncztcclxuICAgIH07XHJcbn1cclxuIiwiaW1wb3J0IHsgUGlwQ2FjaGVJbnRlcmNlcHRvck9wdGlvbnMsIFBpcENhY2hlUGFnaW5hdGlvblBhcmFtcywgUGlwQ2FjaGVNb2RlbCwgUGlwQ2FjaGVJbnRlcmNlcHRvckNvbGxlY3Rpb25TZXR0aW5ncywgZXh0cmFjdFBhZ2luYXRpb25EZWZhdWx0IH0gZnJvbSAnLi9jYWNoZS5tb2RlbHMnO1xyXG5pbXBvcnQgeyBJQ2FjaGVDb25maWdQcm92aWRlciB9IGZyb20gJy4vY2FjaGUtY29uZmlnLnNlcnZpY2UnO1xyXG5cclxuZGVjbGFyZSB2YXIgRGV4aWU7XHJcbmRlY2xhcmUgdmFyIG9iamVjdEhhc2g7XHJcblxyXG5jbGFzcyBUb3RhbEl0ZW0ge1xyXG4gICAgaGFzaDogc3RyaW5nO1xyXG4gICAgdG90YWw6IHtcclxuICAgICAgICB2YWx1ZTogbnVtYmVyO1xyXG4gICAgICAgIGxhc3RSZWFkOiBudW1iZXI7XHJcbiAgICB9O1xyXG4gICAgaWR4TWFwOiBhbnlbXTtcclxufVxyXG5cclxuZXhwb3J0IGludGVyZmFjZSBJQ2FjaGVTZXJ2aWNlIHtcclxuICAgIG1vZGVsczogUGlwQ2FjaGVNb2RlbFtdO1xyXG4gICAgZ2V0SXRlbShtb2RlbE5hbWU6IHN0cmluZywga2V5OiBhbnksIG9wdGlvbnM/OiBQaXBDYWNoZUludGVyY2VwdG9yT3B0aW9ucyk6IFByb21pc2U8YW55PjtcclxuICAgIGdldEl0ZW1zKG1vZGVsTmFtZTogc3RyaW5nLCBwYXlsb2FkPzoge1xyXG4gICAgICAgIGh0dHBQYXJhbXM/OiBhbnksXHJcbiAgICAgICAgaW50ZXJjZXB0b3I/OiBQaXBDYWNoZUludGVyY2VwdG9yQ29sbGVjdGlvblNldHRpbmdzXHJcbiAgICB9KTogUHJvbWlzZTxhbnlbXT47XHJcbiAgICBzZXRJdGVtKG1vZGVsTmFtZTogc3RyaW5nLCBpdGVtOiBhbnksIG9wdGlvbnM/OiB7IHJlbW92ZVRvdGFsPzogYm9vbGVhbiB9KTogUHJvbWlzZTxhbnk+O1xyXG4gICAgc2V0SXRlbXMobW9kZWxOYW1lOiBzdHJpbmcsIGl0ZW1zOiBhbnlbXSwgcGF5bG9hZD86IHtcclxuICAgICAgICBodHRwUGFyYW1zPzogYW55LFxyXG4gICAgICAgIGludGVyY2VwdG9yPzogUGlwQ2FjaGVJbnRlcmNlcHRvckNvbGxlY3Rpb25TZXR0aW5nc1xyXG4gICAgfSk6IFByb21pc2U8YW55W10+XHJcbiAgICBkZWxldGVJdGVtcyhtb2RlbE5hbWU6IHN0cmluZywga2V5czogYW55W10pOiBQcm9taXNlPGFueT47XHJcbiAgICBjbGVhcihtb2RlbD86IHN0cmluZyB8IHN0cmluZ1tdKTogUHJvbWlzZTxhbnk+O1xyXG59XHJcblxyXG5leHBvcnQgY2xhc3MgQ2FjaGVTZXJ2aWNlIGltcGxlbWVudHMgSUNhY2hlU2VydmljZSB7XHJcblxyXG4gICAgcHJpdmF0ZSBvcGVuZWREYnMgPSBuZXcgTWFwPHN0cmluZywgYW55PigpO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY29uZmlnOiBJQ2FjaGVDb25maWdQcm92aWRlcikgeyB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXREYk5hbWUobW9kZWxOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xyXG4gICAgICAgIGlmICghbW9kZWxOYW1lKSB7IHRocm93IG5ldyBFcnJvcignTW9kZWwgbmFtZSBzaG91bGQgYmUgZGVmaW5lZCcpOyB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLnByZWZpeCArIG1vZGVsTmFtZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKSArIG1vZGVsTmFtZS5zbGljZSgxKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldERiKG1vZGVsOiBQaXBDYWNoZU1vZGVsKTogYW55IHtcclxuICAgICAgICBpZiAoIW1vZGVsIHx8ICFtb2RlbC5uYW1lKSB7IHRocm93IG5ldyBFcnJvcignTW9kZWwgc2hvdWxkIGJlIGRlZmluZWQnKTsgfVxyXG4gICAgICAgIGNvbnN0IGRiTmFtZSA9IHRoaXMuZ2V0RGJOYW1lKG1vZGVsLm5hbWUpO1xyXG4gICAgICAgIGlmICh0aGlzLm9wZW5lZERicy5oYXMoZGJOYW1lKSkgeyByZXR1cm4gdGhpcy5vcGVuZWREYnMuZ2V0KGRiTmFtZSk7IH1cclxuICAgICAgICBjb25zdCBkYiA9IG5ldyBEZXhpZShkYk5hbWUpO1xyXG4gICAgICAgIGNvbnN0IG1vZGVsS2V5ID0gbW9kZWwub3B0aW9ucy5rZXkgfHwgJ2lkJztcclxuICAgICAgICBkYi52ZXJzaW9uKDIpLnN0b3Jlcyh7XHJcbiAgICAgICAgICAgIGl0ZW1zOiBtb2RlbEtleSxcclxuICAgICAgICAgICAgaGFzaGVzOiAnaGFzaCcsXHJcbiAgICAgICAgICAgIGxhc3RSZWFkOiAnJyxcclxuICAgICAgICAgICAgbWV0YTogJydcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9wZW5lZERicy5zZXQoZGJOYW1lLCBkYik7XHJcbiAgICAgICAgcmV0dXJuIGRiO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgZ2V0TW9kZWwobW9kZWxOYW1lOiBzdHJpbmcpOiBQaXBDYWNoZU1vZGVsIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5tb2RlbHMuZmluZChtID0+IG0ubmFtZSA9PT0gbW9kZWxOYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0IG1vZGVscygpOiBQaXBDYWNoZU1vZGVsW10geyByZXR1cm4gdGhpcy5jb25maWcubW9kZWxzIHx8IFtdOyB9XHJcblxyXG4gICAgYXN5bmMgZ2V0SXRlbShtb2RlbE5hbWU6IHN0cmluZywga2V5OiBhbnksIG9wdGlvbnM/OiBQaXBDYWNoZUludGVyY2VwdG9yT3B0aW9ucyk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldE1vZGVsKG1vZGVsTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGIgPSB0aGlzLmdldERiKG1vZGVsKTtcclxuICAgICAgICBjb25zdCBbZXhwaXJlLCBpdGVtXSA9IGF3YWl0IFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgZGIudGFibGUoJ2xhc3RSZWFkJykuZ2V0KGtleSksXHJcbiAgICAgICAgICAgIGRiLnRhYmxlKCdpdGVtcycpLmdldChrZXkpXHJcbiAgICAgICAgXSk7XHJcbiAgICAgICAgY29uc3QgbWF4QWdlID0gb3B0aW9ucyAmJiBvcHRpb25zLm1heEFnZSB8fCBtb2RlbC5vcHRpb25zLm1heEFnZTtcclxuICAgICAgICBjb25zdCBleHBpcmVkID0gZXhwaXJlICsgbWF4QWdlIDw9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xyXG4gICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVMb2dzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBDb2xsYXBzZWQoJ1tQaXBDYWNoZV0gR0VUIHNpbmdsZSBpdGVtICMnICsga2V5KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW06ICcsIGl0ZW0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnRXhwaXJlZDogJywgZXhwaXJlZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdFeHBpcmVkIGF0OiAnLCBuZXcgRGF0ZShleHBpcmUpKTtcclxuICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gZXhwaXJlZCA/IG51bGwgOiBpdGVtO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgZ2V0SXRlbXMobW9kZWxOYW1lOiBzdHJpbmcsIHBheWxvYWQ/OiB7XHJcbiAgICAgICAgaHR0cFBhcmFtcz86IGFueSxcclxuICAgICAgICBpbnRlcmNlcHRvcj86IFBpcENhY2hlSW50ZXJjZXB0b3JDb2xsZWN0aW9uU2V0dGluZ3NcclxuICAgIH0pOiBQcm9taXNlPGFueVtdPiB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldE1vZGVsKG1vZGVsTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGIgPSB0aGlzLmdldERiKG1vZGVsKTtcclxuICAgICAgICBjb25zdCBtb2RlbEtleSA9IG1vZGVsLm9wdGlvbnMua2V5IHx8ICdpZCc7XHJcbiAgICAgICAgLy8gZ2V0IGluZGV4ZXMgb2YgaXRlbXMgd2Ugc2hvdWxkIHJlY2VpdmVcclxuICAgICAgICBjb25zdCBtYXhBZ2UgPSBfLmdldChwYXlsb2FkLCAnaW50ZXJjZXB0b3Iub3B0aW9ucy5tYXhBZ2UnLCBtb2RlbC5vcHRpb25zLm1heEFnZSk7XHJcbiAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZUxvZ3MpIHtcclxuICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnW1BpcENhY2hlXSBHRVQgY29sbGVjdGlvbiBvZiBpdGVtcycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUGF5bG9hZDogJywgcGF5bG9hZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IFtwYWdpbmF0aW9uLCBwYXJhbXNdOiBbUGlwQ2FjaGVQYWdpbmF0aW9uUGFyYW1zLCBhbnldXHJcbiAgICAgICAgICAgID0gXy5nZXQocGF5bG9hZCwgJ2ludGVyY2VwdG9yLmV4dHJhY3RQYWdpbmF0aW9uJywgZXh0cmFjdFBhZ2luYXRpb25EZWZhdWx0KShwYXlsb2FkICYmIHBheWxvYWQuaHR0cFBhcmFtcyk7XHJcbiAgICAgICAgY29uc3QgaGFzUGFnaW5hdGlvbiA9IE9iamVjdC5rZXlzKHBhZ2luYXRpb24pLmxlbmd0aCAhPT0gMDtcclxuICAgICAgICBjb25zdCBwYXJzOiBQaXBDYWNoZVBhZ2luYXRpb25QYXJhbXMgPSBfLmRlZmF1bHRzRGVlcChwYWdpbmF0aW9uLCB7IG9mZnNldDogMCwgbGltaXQ6IDAgfSk7XHJcbiAgICAgICAgY29uc3QgeyBvZmZzZXQsIGxpbWl0IH0gPSBwYXJzO1xyXG4gICAgICAgIGNvbnN0IGhhc2ggPSBwYXJhbXMgJiYgT2JqZWN0LmtleXMocGFyYW1zKS5sZW5ndGggPyBvYmplY3RIYXNoLk1ENShwYXJhbXMpIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIGRiLnRhYmxlKCdoYXNoZXMnKS5nZXQoaGFzaClcclxuICAgICAgICAgICAgLnRoZW4oKGhpOiBUb3RhbEl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRvdGFsID0gaGkgJiYgaGkudG90YWwgJiYgaGkudG90YWwudmFsdWUgJiYgaGkudG90YWwubGFzdFJlYWQgKyBtYXhBZ2UgPj0gbmV3IERhdGUoKS52YWx1ZU9mKClcclxuICAgICAgICAgICAgICAgICAgICA/IGhpLnRvdGFsLnZhbHVlIDogdW5kZWZpbmVkO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdXBwZXIgPSBvZmZzZXQgKyBsaW1pdDtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBsYW5uZWRMZW5ndGggPSBoYXNQYWdpbmF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgPyAobGltaXQgPyAodG90YWwgPyAodXBwZXIgPiB0b3RhbCA/IHRvdGFsIC0gb2Zmc2V0IDogbGltaXQpIDogbGltaXQpIDogKHRvdGFsID8gKHRvdGFsIC0gb2Zmc2V0KSA6IChsaW1pdCkpKVxyXG4gICAgICAgICAgICAgICAgICAgIDogdG90YWw7XHJcbiAgICAgICAgICAgICAgICBsZXQgaWR4TWFwID0gaGkgJiYgaGkuaWR4TWFwIHx8IFtdO1xyXG4gICAgICAgICAgICAgICAgaWYgKGhhc1BhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAobGltaXQpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWR4TWFwID0gaWR4TWFwLmZpbHRlcigoaXQsIGlkeCkgPT4gaWR4ID49IG9mZnNldCAmJiBpZHggPCB1cHBlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZHhNYXAubGVuZ3RoICE9PSBwbGFubmVkTGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdUaGVyZVxcJ3Mgbm90IGVub3VnaCBpbmZvcm1hdGlvbiBhYm91dCBpbmRleGVzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0b3RhbCAhPT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkeE1hcCA9IGlkeE1hcC5maWx0ZXIoKGl0LCBpZHgpID0+IGlkeCA+PSBvZmZzZXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4TWFwLmxlbmd0aCAhPT0gcGxhbm5lZExlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZUxvZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnTm90IGFsbCBpdGVtcyBwcmVzZW50ZWQgaW4gY2FjaGUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwRW5kKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobnVsbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1dlIHdhbnQgdG8gcmV0dXJuIGFsbCBpdGVtcywgYnV0IHdlIGRvblxcJ3Qga25vdyBob3cgbWFueSB0aGV5IGFyZScpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChudWxsKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRvdGFsID09PSB1bmRlZmluZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnV2Ugd2FudCB0byByZXR1cm4gYWxsIGl0ZW1zLCBidXQgd2UgZG9uXFwndCBrbm93IGhvdyBtYW55IHRoZXkgYXJlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG51bGwpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcclxuICAgICAgICAgICAgICAgICAgICBQcm9taXNlLnJlc29sdmUoaWR4TWFwKSxcclxuICAgICAgICAgICAgICAgICAgICAhaGFzUGFnaW5hdGlvbiAmJiAhaGFzaCA/IGRiLnRhYmxlKCdpdGVtcycpLnRvQXJyYXkoKSA6IGRiLnRhYmxlKCdpdGVtcycpLndoZXJlKG1vZGVsS2V5KS5hbnlPZihpZHhNYXApLnRvQXJyYXkoKSxcclxuICAgICAgICAgICAgICAgICAgICAhaGFzUGFnaW5hdGlvbiAmJiAhaGFzaCA/IGRiLnRhYmxlKCdsYXN0UmVhZCcpLnRvQXJyYXkoKSA6IGRiLnRhYmxlKCdsYXN0UmVhZCcpLndoZXJlKCcnKS5hbnlPZihpZHhNYXApLnRvQXJyYXkoKVxyXG4gICAgICAgICAgICAgICAgXSk7XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKFtpZHMsIGl0ZW1zLCByZWFkc10pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbXMgfHwgaXRlbXMubGVuZ3RoICE9PSBpZHMubGVuZ3RoIHx8ICFyZWFkcyB8fCByZWFkcy5sZW5ndGggIT09IGlkcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ05vdCBhbGwgaXRlbXMgcHJlc2VudGVkIGluIGNhY2hlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5taW4oLi4ucmVhZHMpICsgbWF4QWdlIDw9IG5ldyBEYXRlKCkudmFsdWVPZigpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZUxvZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW1zIHdhcyBleHBpcmVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdCByZXMgPSBpZHMubWFwKGlkID0+IGl0ZW1zLmZpbmQoaXQgPT4gaXRbbW9kZWxLZXldID09PSBpZCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZUxvZ3MpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSXRlbXM6ICcsIHJlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcztcclxuICAgICAgICAgICAgfSkuY2F0Y2gocmVhc29uID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZWFzb24gPT09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgcmVhc29uO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIHNldEl0ZW0obW9kZWxOYW1lOiBzdHJpbmcsIGl0ZW06IGFueSwgb3B0aW9ucz86IHsgcmVtb3ZlVG90YWw/OiBib29sZWFuOyB9KTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwobW9kZWxOYW1lKTtcclxuICAgICAgICBjb25zdCBkYiA9IHRoaXMuZ2V0RGIobW9kZWwpO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW1xyXG4gICAgICAgICAgICBkYi50YWJsZSgnbGFzdFJlYWQnKS5wdXQobmV3IERhdGUoKS52YWx1ZU9mKCksIGl0ZW1bbW9kZWwub3B0aW9ucy5rZXldKSxcclxuICAgICAgICAgICAgZGIudGFibGUoJ2l0ZW1zJykucHV0KGl0ZW0pXHJcbiAgICAgICAgXTtcclxuICAgICAgICBpZiAob3B0aW9ucykge1xyXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5yZW1vdmVUb3RhbCkge1xyXG4gICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkYi50YWJsZSgnaGFzaGVzJykudG9Db2xsZWN0aW9uKCkubW9kaWZ5KHsgdG90YWw6IHVuZGVmaW5lZCB9KSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmNvbmZpZy5lbmFibGVMb2dzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmdyb3VwQ29sbGFwc2VkKCdbUGlwQ2FjaGVdIFNFVCBzaW5nbGUgaXRlbSAjJyArIGl0ZW1bbW9kZWwub3B0aW9ucy5rZXldKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdJdGVtOiAnLCBkYXRhWzFdKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZWFkZWQgYXQ6ICcsIG5ldyBEYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBkYXRhWzFdO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgc2V0SXRlbXMobW9kZWxOYW1lOiBzdHJpbmcsIGl0ZW1zOiBhbnlbXSwgcGF5bG9hZD86IHtcclxuICAgICAgICBodHRwUGFyYW1zPzogYW55LFxyXG4gICAgICAgIGludGVyY2VwdG9yPzogUGlwQ2FjaGVJbnRlcmNlcHRvckNvbGxlY3Rpb25TZXR0aW5nc1xyXG4gICAgfSk6IFByb21pc2U8YW55W10+IHtcclxuICAgICAgICBjb25zdCBtb2RlbCA9IHRoaXMuZ2V0TW9kZWwobW9kZWxOYW1lKTtcclxuICAgICAgICBjb25zdCBtb2RlbEtleSA9IG1vZGVsLm9wdGlvbnMua2V5IHx8ICdpZCc7XHJcbiAgICAgICAgY29uc3QgZGIgPSB0aGlzLmdldERiKG1vZGVsKTtcclxuICAgICAgICBjb25zdCBsYXN0UmVhZCA9IG5ldyBEYXRlKCkudmFsdWVPZigpO1xyXG4gICAgICAgIGNvbnN0IGlkcyA9IGl0ZW1zLm1hcChpdCA9PiBpdFttb2RlbEtleV0pO1xyXG4gICAgICAgIGxldCB0b3RhbDtcclxuICAgICAgICBjb25zdCBbcGFnaW5hdGlvbiwgcGFyYW1zXTogW1BpcENhY2hlUGFnaW5hdGlvblBhcmFtcywgYW55XVxyXG4gICAgICAgICAgICA9IF8uZ2V0KHBheWxvYWQsICdpbnRlcmNlcHRvci5leHRyYWN0UGFnaW5hdGlvbicsIGV4dHJhY3RQYWdpbmF0aW9uRGVmYXVsdCkocGF5bG9hZCAmJiBwYXlsb2FkLmh0dHBQYXJhbXMpO1xyXG4gICAgICAgIGNvbnN0IGhhc1BhZ2luYXRpb24gPSBPYmplY3Qua2V5cyhwYWdpbmF0aW9uKS5sZW5ndGggIT09IDA7XHJcbiAgICAgICAgY29uc3QgcGFyczogUGlwQ2FjaGVQYWdpbmF0aW9uUGFyYW1zID0gXy5kZWZhdWx0c0RlZXAocGFnaW5hdGlvbiwgeyBvZmZzZXQ6IDAsIGxpbWl0OiAwIH0pO1xyXG4gICAgICAgIGNvbnN0IHsgb2Zmc2V0LCBsaW1pdCB9ID0gcGFycztcclxuICAgICAgICBjb25zdCBoYXNoID0gcGFyYW1zICYmIE9iamVjdC5rZXlzKHBhcmFtcykubGVuZ3RoID8gb2JqZWN0SGFzaC5NRDUocGFyYW1zKSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHByb21pc2VzID0gW1xyXG4gICAgICAgICAgICBkYi50YWJsZSgnbGFzdFJlYWQnKS5idWxrUHV0KG5ldyBBcnJheShpdGVtcy5sZW5ndGgpLmZpbGwobGFzdFJlYWQpLCBpZHMpLFxyXG4gICAgICAgICAgICBkYi50YWJsZSgnaXRlbXMnKS5idWxrUHV0KGl0ZW1zKSxcclxuICAgICAgICAgICAgZGIudGFibGUoJ2hhc2hlcycpLmdldChoYXNoKS50aGVuKChoaTogVG90YWxJdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBuaCA9IGhpIHx8IE9iamVjdC5hc3NpZ24obmV3IFRvdGFsSXRlbSgpLCB7IGhhc2gsIHRvdGFsOiB7fSwgaWR4TWFwOiBbXSB9KTtcclxuICAgICAgICAgICAgICAgIGlkcy5mb3JFYWNoKChpZCwgaWR4KSA9PiBuaC5pZHhNYXBbaWR4ICsgb2Zmc2V0XSA9IGlkKTtcclxuICAgICAgICAgICAgICAgIGlmIChoYXNQYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ubGltaXQgJiYgaXRlbXMubGVuZ3RoICYmIGl0ZW1zLmxlbmd0aCA8IHBhZ2luYXRpb24ubGltaXQgfHwgIWhhc1BhZ2luYXRpb24pIHtcclxuICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IChwYWdpbmF0aW9uLm9mZnNldCB8fCAwKSArIGl0ZW1zLmxlbmd0aDtcclxuICAgICAgICAgICAgICAgICAgICBuaC50b3RhbCA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHRvdGFsLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXN0UmVhZFxyXG4gICAgICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZGIudGFibGUoJ2hhc2hlcycpLnB1dChuaCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgXTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnW1BpcENhY2hlXSBTRVQgY29sbGVjdGlvbiBvZiBpdGVtcycpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BheWxvYWQ6ICcsIHBheWxvYWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0l0ZW1zOiAnLCBpdGVtcyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnSGFzaDonLCBoYXNoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdMYXN0IHJlYWQgYXQ6ICcsIG5ldyBEYXRlKCkpO1xyXG4gICAgICAgICAgICAgICAgaWYgKCFfLmlzVW5kZWZpbmVkKHRvdGFsKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBOZXcgdG90YWwgZm9yIGhhc2ggWyR7aGFzaH1dOiAke3RvdGFsfWApO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cEVuZCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBpdGVtcztcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIGFzeW5jIGRlbGV0ZUl0ZW1zKG1vZGVsTmFtZTogc3RyaW5nLCBrZXlzOiBhbnlbXSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgY29uc3QgbW9kZWwgPSB0aGlzLmdldE1vZGVsKG1vZGVsTmFtZSk7XHJcbiAgICAgICAgY29uc3QgZGIgPSB0aGlzLmdldERiKG1vZGVsKTtcclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xyXG4gICAgICAgICAgICBkYi50YWJsZSgnbGFzdFJlYWQnKS5idWxrRGVsZXRlKGtleXMpLFxyXG4gICAgICAgICAgICBkYi50YWJsZSgnaXRlbXMnKS5idWxrRGVsZXRlKGtleXMpLFxyXG4gICAgICAgICAgICBkYi50cmFuc2FjdGlvbigncncnLCBkYi50YWJsZSgnaGFzaGVzJyksIGFzeW5jICgpID0+IHtcclxuICAgICAgICAgICAgICAgIGF3YWl0IGRiLnRhYmxlKCdoYXNoZXMnKS50b0NvbGxlY3Rpb24oKS5tb2RpZnkoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCByZW1vdmVUb3RhbDtcclxuICAgICAgICAgICAgICAgICAgICBrZXlzLmZvckVhY2goa2V5ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy52YWx1ZS5pZHhNYXAuZmluZEluZGV4KGlkID0+IGlkID09PSBrZXkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoaWR4ID49IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUuaWR4TWFwLnNwbGljZShpZHgsIDEpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVtb3ZlVG90YWwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlbW92ZVRvdGFsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnZhbHVlLnRvdGFsO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIF0pLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5ncm91cENvbGxhcHNlZCgnW1BpcENhY2hlXSBERUxFVEUnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdLZXlzOiAnLCBrZXlzKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgYXN5bmMgY2xlYXIobW9kZWw/OiBzdHJpbmcgfCBzdHJpbmdbXSk6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkYnM6IHN0cmluZ1tdID0gW107XHJcbiAgICAgICAgICAgIGlmIChtb2RlbCkge1xyXG4gICAgICAgICAgICAgICAgQXJyYXkuaXNBcnJheShtb2RlbClcclxuICAgICAgICAgICAgICAgICAgICA/IGRicy5wdXNoKC4uLm1vZGVsLm1hcChtID0+IHRoaXMuZ2V0RGJOYW1lKG0pKSlcclxuICAgICAgICAgICAgICAgICAgICA6IGRicy5wdXNoKHRoaXMuZ2V0RGJOYW1lKG1vZGVsKSk7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKGRicyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXNvbHZlKERleGllLmdldERhdGFiYXNlTmFtZXMoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS50aGVuKChuYW1lczogc3RyaW5nW10pID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZGJzID0gbmFtZXMuZmlsdGVyKG5hbWUgPT4gbmFtZS5zdGFydHNXaXRoKHRoaXMuY29uZmlnLnByZWZpeCkpO1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RhdGFiYXNlcyB0byBkZWxldGU6ICcsIG5hbWVzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IFtdO1xyXG4gICAgICAgICAgICBmb3IgKGNvbnN0IG5hbWUgb2YgZGJzKSB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRiID0gdGhpcy5vcGVuZWREYnMuaGFzKG5hbWUpID8gdGhpcy5vcGVuZWREYnMuZ2V0KG5hbWUpIDogbmV3IERleGllKG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goZGIudGFibGUoJ2l0ZW1zJykuY2xlYXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkYi50YWJsZSgnbWV0YScpLmNsZWFyKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIHByb21pc2VzLnB1c2goZGIudGFibGUoJ2xhc3RSZWFkJykuY2xlYXIoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaChkYi50YWJsZSgnaGFzaGVzJykuY2xlYXIoKSk7XHJcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25maWcuZW5hYmxlTG9ncykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIG9wZW5pbmcgZGF0YWJhc2UgJyArIG5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xyXG4gICAgICAgIH0pLnRoZW4ocmVzID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuY29uZmlnLmVuYWJsZUxvZ3MpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdbUGlwQ2FjaGVdIENMRUFSJyk7XHJcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwpIHsgY29uc29sZS5sb2coJ01vZGVsKHMpOiAnLCBtb2RlbCk7IH0gZWxzZSB7IGNvbnNvbGUubG9nKCdhbGwgbW9kZWxzJyk7IH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCBpbnRlcmZhY2UgSUNhY2hlUHJvdmlkZXIge1xyXG4gICAgbW9kZWxzOiBQaXBDYWNoZU1vZGVsW107XHJcbiAgICByZWdpc3Rlck1vZGVsKG1vZGVsOiBQaXBDYWNoZU1vZGVsKTogYm9vbGVhbjtcclxufVxyXG5cclxuY2xhc3MgQ2FjaGVQcm92aWRlciBpbXBsZW1lbnRzIElDYWNoZVByb3ZpZGVyIHtcclxuXHJcbiAgICBwcml2YXRlIF9zZXJ2aWNlOiBJQ2FjaGVTZXJ2aWNlO1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGlwQ2FjaGVDb25maWdQcm92aWRlcjogSUNhY2hlQ29uZmlnUHJvdmlkZXIpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBtb2RlbHMoKTogUGlwQ2FjaGVNb2RlbFtdIHsgcmV0dXJuIHRoaXMucGlwQ2FjaGVDb25maWdQcm92aWRlci5tb2RlbHM7IH1cclxuXHJcbiAgICBwdWJsaWMgcmVnaXN0ZXJNb2RlbChtb2RlbDogUGlwQ2FjaGVNb2RlbCkge1xyXG4gICAgICAgIGlmICghbW9kZWwpIHsgcmV0dXJuIGZhbHNlOyB9XHJcbiAgICAgICAgY29uc3QgcmVzID0gdGhpcy5tb2RlbHMuZmluZChtID0+IG0ubmFtZSA9PT0gbW9kZWwubmFtZSk7XHJcbiAgICAgICAgaWYgKHJlcykgeyByZXR1cm4gZmFsc2U7IH1cclxuICAgICAgICB0aGlzLm1vZGVscy5wdXNoKG1vZGVsKTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgJGdldCgpIHtcclxuICAgICAgICBcIm5nSW5qZWN0XCI7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2aWNlID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhpcy5fc2VydmljZSA9IG5ldyBDYWNoZVNlcnZpY2UodGhpcy5waXBDYWNoZUNvbmZpZ1Byb3ZpZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2aWNlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuYW5ndWxhclxyXG4gICAgLm1vZHVsZShcInBpcENhY2hlXCIpXHJcbiAgICAucHJvdmlkZXIoJ3BpcENhY2hlJywgQ2FjaGVQcm92aWRlcik7IiwiYW5ndWxhci5tb2R1bGUoJ3BpcENhY2hlJywgW10pO1xyXG5cclxuaW1wb3J0ICcuL2NhY2hlLWNvbmZpZy5zZXJ2aWNlJztcclxuaW1wb3J0ICcuL2NhY2hlLnNlcnZpY2UnO1xyXG5pbXBvcnQgJy4vY2FjaGUuaW50ZXJjZXB0b3InO1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9jYWNoZS5tb2RlbHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL2NhY2hlLWNvbmZpZy5zZXJ2aWNlJztcclxuZXhwb3J0ICogZnJvbSAnLi9jYWNoZS5zZXJ2aWNlJztcclxuIiwi77u/aW1wb3J0ICcuL2NhY2hlL2luZGV4JztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vY2FjaGUvaW5kZXgnO1xyXG4iXX0="}